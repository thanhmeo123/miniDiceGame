System.register("chunks:///_virtual/builtin-pipeline-settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./builtin-pipeline-types.ts"],(function(t){var e,o,i,n,r,s,a,p,l,g,c,y,u,m,d,b,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.createClass,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,p=t.Camera,l=t.CCBoolean,g=t.CCInteger,c=t.CCFloat,y=t.Material,u=t.Texture2D,m=t.rendering,d=t.Component},function(t){b=t.BloomType,h=t.fillRequiredPipelineSettings,f=t.makePipelineSettings}],execute:function(){var P,_,M,S,w,O,k,E,D,G,B,C,A,j,v,F,x,R,T,I,L,X,z,H,q,Y,N,Q,Z,J,K,U,V;s._RF.push({},"de1c2EHcMhAIYRZY5nyTQHG","builtin-pipeline-settings",void 0);var W=a.ccclass,$=a.disallowMultiple,tt=a.executeInEditMode,et=a.menu,ot=a.property,it=a.requireComponent,nt=a.type;t("BuiltinPipelineSettings",(P=W("BuiltinPipelineSettings"),_=et("Rendering/BuiltinPipelineSettings"),M=it(p),S=ot(l),w=ot({displayName:"Editor Preview (Experimental)",type:l}),O=ot({group:{id:"MSAA",name:"Multisample Anti-Aliasing"},type:l}),k=ot({group:{id:"MSAA",name:"Multisample Anti-Aliasing",style:"section"},type:g,range:[2,4,2]}),E=ot({group:{id:"ShadingScale",name:"ShadingScale",style:"section"},type:l}),D=ot({tooltip:"i18n:postprocess.shadingScale",group:{id:"ShadingScale",name:"ShadingScale"},type:c,range:[.01,4,.01],slide:!0}),G=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:l}),B=nt(b),C=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"}}),A=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:y}),j=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:y}),v=ot({tooltip:"i18n:bloom.enableAlphaMask",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:l}),F=ot({tooltip:"i18n:bloom.iterations",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:g,range:[1,6,1],slide:!0}),x=ot({tooltip:"i18n:bloom.threshold",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:c,min:0}),R=nt(c),T=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"}}),I=ot({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:l}),L=ot({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:y}),X=ot({tooltip:"i18n:color_grading.contribute",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:c,range:[0,1,.01],slide:!0}),z=ot({tooltip:"i18n:color_grading.originalMap",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:u}),H=ot({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:l}),q=ot({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:y}),Y=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:l}),N=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:y}),Q=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:c,range:[0,1,.01],slide:!0}),Z=ot({group:{id:"ToneMapping",name:"ToneMapping",style:"section"},type:y}),P(J=_(J=M(J=$(J=tt((U=e((K=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,n(e,"_settings",U,r(e)),n(e,"_editorPreview",V,r(e)),e}o(e,t);var s=e.prototype;return s.getPipelineSettings=function(){return this._settings},s.onEnable=function(){h(this._settings),this.getComponent(p).camera.pipelineSettings=this._settings},s.onDisable=function(){var t=this.getComponent(p).camera;t&&(t.pipelineSettings=null)},s._tryEnableEditorPreview=function(){void 0!==m&&(this._editorPreview?m.setEditorPipelineSettings(this._settings):this._disableEditorPreview())},s._disableEditorPreview=function(){void 0!==m&&(m.getEditorPipelineSettings()===this._settings&&m.setEditorPipelineSettings(null))},i(e,[{key:"editorPreview",get:function(){return this._editorPreview},set:function(t){this._editorPreview=t}},{key:"MsaaEnable",get:function(){return this._settings.msaa.enabled},set:function(t){this._settings.msaa.enabled=t}},{key:"msaaSampleCount",get:function(){return this._settings.msaa.sampleCount},set:function(t){t=Math.pow(2,Math.ceil(Math.log2(Math.max(t,2)))),t=Math.min(t,4),this._settings.msaa.sampleCount=t}},{key:"shadingScaleEnable",get:function(){return this._settings.enableShadingScale},set:function(t){this._settings.enableShadingScale=t}},{key:"shadingScale",get:function(){return this._settings.shadingScale},set:function(t){this._settings.shadingScale=t}},{key:"bloomEnable",get:function(){return this._settings.bloom.enabled},set:function(t){this._settings.bloom.enabled=t}},{key:"bloomType",get:function(){return this._settings.bloom.type},set:function(t){this._settings.bloom.type=t}},{key:"kawaseBloomMaterial",get:function(){return this._settings.bloom.kawaseFilterMaterial},set:function(t){this._settings.bloom.kawaseFilterMaterial!==t&&(this._settings.bloom.kawaseFilterMaterial=t)}},{key:"mipmapBloomMaterial",get:function(){return this._settings.bloom.mipmapFilterMaterial},set:function(t){this._settings.bloom.mipmapFilterMaterial!==t&&(this._settings.bloom.mipmapFilterMaterial=t)}},{key:"bloomEnableAlphaMask",get:function(){return this._settings.bloom.enableAlphaMask},set:function(t){this._settings.bloom.enableAlphaMask=t}},{key:"bloomIterations",get:function(){return this._settings.bloom.iterations},set:function(t){this._settings.bloom.iterations=t}},{key:"bloomThreshold",get:function(){return this._settings.bloom.threshold},set:function(t){this._settings.bloom.threshold=t}},{key:"bloomIntensity",get:function(){return this._settings.bloom.intensity},set:function(t){this._settings.bloom.intensity=t}},{key:"colorGradingEnable",get:function(){return this._settings.colorGrading.enabled},set:function(t){this._settings.colorGrading.enabled=t}},{key:"colorGradingMaterial",get:function(){return this._settings.colorGrading.material},set:function(t){this._settings.colorGrading.material!==t&&(this._settings.colorGrading.material=t)}},{key:"colorGradingContribute",get:function(){return this._settings.colorGrading.contribute},set:function(t){this._settings.colorGrading.contribute=t}},{key:"colorGradingMap",get:function(){return this._settings.colorGrading.colorGradingMap},set:function(t){this._settings.colorGrading.colorGradingMap=t}},{key:"fxaaEnable",get:function(){return this._settings.fxaa.enabled},set:function(t){this._settings.fxaa.enabled=t}},{key:"fxaaMaterial",get:function(){return this._settings.fxaa.material},set:function(t){this._settings.fxaa.material!==t&&(this._settings.fxaa.material=t)}},{key:"fsrEnable",get:function(){return this._settings.fsr.enabled},set:function(t){this._settings.fsr.enabled=t}},{key:"fsrMaterial",get:function(){return this._settings.fsr.material},set:function(t){this._settings.fsr.material!==t&&(this._settings.fsr.material=t)}},{key:"fsrSharpness",get:function(){return this._settings.fsr.sharpness},set:function(t){this._settings.fsr.sharpness=t}},{key:"toneMappingMaterial",get:function(){return this._settings.toneMapping.material},set:function(t){this._settings.toneMapping.material!==t&&(this._settings.toneMapping.material=t)}}]),e}(d)).prototype,"_settings",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f()}}),V=e(K.prototype,"_editorPreview",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(K.prototype,"editorPreview",[w],Object.getOwnPropertyDescriptor(K.prototype,"editorPreview"),K.prototype),e(K.prototype,"MsaaEnable",[O],Object.getOwnPropertyDescriptor(K.prototype,"MsaaEnable"),K.prototype),e(K.prototype,"msaaSampleCount",[k],Object.getOwnPropertyDescriptor(K.prototype,"msaaSampleCount"),K.prototype),e(K.prototype,"shadingScaleEnable",[E],Object.getOwnPropertyDescriptor(K.prototype,"shadingScaleEnable"),K.prototype),e(K.prototype,"shadingScale",[D],Object.getOwnPropertyDescriptor(K.prototype,"shadingScale"),K.prototype),e(K.prototype,"bloomEnable",[G],Object.getOwnPropertyDescriptor(K.prototype,"bloomEnable"),K.prototype),e(K.prototype,"bloomType",[B,C],Object.getOwnPropertyDescriptor(K.prototype,"bloomType"),K.prototype),e(K.prototype,"kawaseBloomMaterial",[A],Object.getOwnPropertyDescriptor(K.prototype,"kawaseBloomMaterial"),K.prototype),e(K.prototype,"mipmapBloomMaterial",[j],Object.getOwnPropertyDescriptor(K.prototype,"mipmapBloomMaterial"),K.prototype),e(K.prototype,"bloomEnableAlphaMask",[v],Object.getOwnPropertyDescriptor(K.prototype,"bloomEnableAlphaMask"),K.prototype),e(K.prototype,"bloomIterations",[F],Object.getOwnPropertyDescriptor(K.prototype,"bloomIterations"),K.prototype),e(K.prototype,"bloomThreshold",[x],Object.getOwnPropertyDescriptor(K.prototype,"bloomThreshold"),K.prototype),e(K.prototype,"bloomIntensity",[R,T],Object.getOwnPropertyDescriptor(K.prototype,"bloomIntensity"),K.prototype),e(K.prototype,"colorGradingEnable",[I],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingEnable"),K.prototype),e(K.prototype,"colorGradingMaterial",[L],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingMaterial"),K.prototype),e(K.prototype,"colorGradingContribute",[X],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingContribute"),K.prototype),e(K.prototype,"colorGradingMap",[z],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingMap"),K.prototype),e(K.prototype,"fxaaEnable",[H],Object.getOwnPropertyDescriptor(K.prototype,"fxaaEnable"),K.prototype),e(K.prototype,"fxaaMaterial",[q],Object.getOwnPropertyDescriptor(K.prototype,"fxaaMaterial"),K.prototype),e(K.prototype,"fsrEnable",[Y],Object.getOwnPropertyDescriptor(K.prototype,"fsrEnable"),K.prototype),e(K.prototype,"fsrMaterial",[N],Object.getOwnPropertyDescriptor(K.prototype,"fsrMaterial"),K.prototype),e(K.prototype,"fsrSharpness",[Q],Object.getOwnPropertyDescriptor(K.prototype,"fsrSharpness"),K.prototype),e(K.prototype,"toneMappingMaterial",[Z],Object.getOwnPropertyDescriptor(K.prototype,"toneMappingMaterial"),K.prototype),J=K))||J)||J)||J)||J)||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/builtin-pipeline-types.ts",["cc"],(function(e){var a,l,n;return{setters:[function(e){a=e.cclegacy,l=e.gfx,n=e.ccenum}],execute:function(){e({fillRequiredBloom:d,fillRequiredColorGrading:p,fillRequiredFSR:c,fillRequiredFXAA:f,fillRequiredHBAO:function(e){void 0===e.enabled&&(e.enabled=!1);void 0===e.radiusScale&&(e.radiusScale=1);void 0===e.angleBiasDegree&&(e.angleBiasDegree=10);void 0===e.blurSharpness&&(e.blurSharpness=3);void 0===e.aoSaturation&&(e.aoSaturation=1);void 0===e.needBlur&&(e.needBlur=!1)},fillRequiredMSAA:t,fillRequiredPipelineSettings:function(e){e.msaa?t(e.msaa):e.msaa=r();void 0===e.enableShadingScale&&(e.enableShadingScale=!1);void 0===e.shadingScale&&(e.shadingScale=.5);e.bloom?d(e.bloom):e.bloom=u();e.toneMapping?v(e.toneMapping):e.toneMapping={material:null};e.colorGrading?p(e.colorGrading):e.colorGrading={enabled:!1,material:null,contribute:1,colorGradingMap:null};e.fsr?c(e.fsr):e.fsr={enabled:!1,material:null,sharpness:.8};e.fxaa?f(e.fxaa):e.fxaa={enabled:!1,material:null}},fillRequiredToneMapping:v,makeBloom:u,makeColorGrading:s,makeFSR:m,makeFXAA:b,makeHBAO:function(){return{enabled:!1,radiusScale:1,angleBiasDegree:10,blurSharpness:3,aoSaturation:1,needBlur:!1}},makeMSAA:r,makePipelineSettings:function(){return{msaa:r(),enableShadingScale:!1,shadingScale:.5,bloom:u(),toneMapping:{material:null},colorGrading:{enabled:!1,material:null,contribute:1,colorGradingMap:null},fsr:{enabled:!1,material:null,sharpness:.8},fxaa:{enabled:!1,material:null}}},makeToneMapping:g}),a._RF.push({},"cbf30kCUX9A3K+QpVC6wnzx","builtin-pipeline-types",void 0);var i=l.SampleCount;function r(){return{enabled:!1,sampleCount:i.X4}}function t(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.sampleCount&&(e.sampleCount=i.X4)}var o=e("BloomType",function(e){return e[e.KawaseDualFilter=0]="KawaseDualFilter",e[e.MipmapFilter=1]="MipmapFilter",e}({}));function u(){return{enabled:!1,type:o.KawaseDualFilter,material:null,kawaseFilterMaterial:null,mipmapFilterMaterial:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:1}}function d(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.type&&(e.type=o.KawaseDualFilter),void 0===e.material&&(e.material=null),void 0===e.kawaseFilterMaterial&&(e.kawaseFilterMaterial=e.material||null),void 0===e.mipmapFilterMaterial&&(e.mipmapFilterMaterial=null),void 0===e.enableAlphaMask&&(e.enableAlphaMask=!1),void 0===e.iterations&&(e.iterations=3),void 0===e.threshold&&(e.threshold=.8),void 0===e.intensity&&(e.intensity=1)}function s(){return{enabled:!1,material:null,contribute:1,colorGradingMap:null}}function p(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.contribute&&(e.contribute=1),void 0===e.colorGradingMap&&(e.colorGradingMap=null)}function m(){return{enabled:!1,material:null,sharpness:.8}}function c(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.sharpness&&(e.sharpness=.8)}function b(){return{enabled:!1,material:null}}function f(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null)}function g(){return{material:null}}function v(e){void 0===e.material&&(e.material=null)}n(o),a._RF.pop()}}}));

System.register("chunks:///_virtual/builtin-pipeline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./builtin-pipeline-types.ts"],(function(e){var a,t,i,r,s,n,o,d,l,h,c,u,p,g,m,S,f,_;return{setters:[function(e){a=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,i=e.geometry,r=e.gfx,s=e.renderer,n=e.Vec2,o=e.Vec4,d=e.rendering,l=e.assert,h=e.clamp,c=e.Vec3,u=e.Material,p=e.Layers,g=e.PipelineEventType,m=e.sys,S=e.pipeline},function(e){f=e.makePipelineSettings,_=e.BloomType}],execute:function(){e("getPingPongRenderTarget",G),t._RF.push({},"ff9b0GZzgRM/obMbHGfCNbk","builtin-pipeline",void 0);var w=i.AABB,b=i.Sphere,P=i.intersect,T=r.ClearFlagBit,R=r.Color,M=r.Format,v=r.FormatFeatureBit,E=r.LoadOp,C=r.StoreOp,x=r.TextureType,A=r.Viewport,L=s.scene,D=L.CameraUsage,F=L.CSMLevel,N=L.LightType;function O(e){return!!(e.clearFlag&(T.COLOR|T.STENCIL<<1))}function y(e,a,t,i,r,s){e.shadowFixedArea||e.csmLevel===F.LEVEL_1?(r.left=0,r.top=0,r.width=Math.trunc(a),r.height=Math.trunc(t)):(r.left=Math.trunc(i%2*.5*a),r.top=s>0?Math.trunc(.5*(1-Math.floor(i/2))*t):Math.trunc(.5*Math.floor(i/2)*t),r.width=Math.trunc(.5*a),r.height=Math.trunc(.5*t)),r.left=Math.max(0,r.left),r.top=Math.max(0,r.top),r.width=Math.max(1,r.width),r.height=Math.max(1,r.height)}var Q=e("PipelineConfigs",(function(){this.isWeb=!1,this.isWebGL1=!1,this.isWebGPU=!1,this.isMobile=!1,this.isHDR=!1,this.useFloatOutput=!1,this.toneMappingType=0,this.shadowEnabled=!1,this.shadowMapFormat=M.R32F,this.shadowMapSize=new n(1,1),this.usePlanarShadow=!1,this.screenSpaceSignY=1,this.supportDepthSample=!1,this.mobileMaxSpotLightShadowMaps=1,this.platform=new o(0,0,0,0)}));function B(e,a){var t=v.SAMPLED_TEXTURE|v.LINEAR_FILTER,i=e.device;a.isWeb=!m.isNative,a.isWebGL1=i.gfxAPI===r.API.WEBGL,a.isWebGPU=i.gfxAPI===r.API.WEBGPU,a.isMobile=m.isMobile,a.isHDR=e.pipelineSceneData.isHDR,a.useFloatOutput=e.getMacroBool("CC_USE_FLOAT_OUTPUT"),a.toneMappingType=e.pipelineSceneData.postSettings.toneMappingType;var n=e.pipelineSceneData.shadows;a.shadowEnabled=n.enabled,a.shadowMapFormat=S.supportsR32FloatTexture(e.device)?M.R32F:M.RGBA8,a.shadowMapSize.set(n.size),a.usePlanarShadow=n.enabled&&n.type===s.scene.ShadowType.Planar,a.screenSpaceSignY=e.device.capabilities.screenSpaceSignY,a.supportDepthSample=(e.device.getFormatFeatures(M.DEPTH_STENCIL)&t)===t;var o=i.capabilities.screenSpaceSignY;a.platform.x=a.isMobile?1:0,a.platform.w=.5*o+.5<<1|.5*i.capabilities.clipSpaceSignY+.5}var H=f(),z=e("CameraConfigs",(function(){this.settings=H,this.isMainGameWindow=!1,this.renderWindowId=0,this.colorName="",this.depthStencilName="",this.enableFullPipeline=!1,this.enableProfiler=!1,this.remainingPasses=0,this.enableShadingScale=!1,this.shadingScale=1,this.nativeWidth=1,this.nativeHeight=1,this.width=1,this.height=1,this.enableHDR=!1,this.radianceFormat=r.Format.RGBA8,this.copyAndTonemapMaterial=null,this.enableStoreSceneDepth=!1})),I=new R(0,0,0,0);function W(e,a,t,i){l(!!t.copyAndTonemapMaterial);var r=e.addRenderPass(t.nativeWidth,t.nativeHeight,"cc-tone-mapping");return r.addRenderTarget(t.colorName,E.CLEAR,C.STORE,I),r.addTexture(i,"inputTexture"),r.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(t.copyAndTonemapMaterial,1),r}function G(e,a,t){return e.startsWith(a)?""+a+(1-Number(e.charAt(a.length)))+"_"+t:a+"0_"+t}var U=function(){function e(){this.lights=[],this.shadowEnabledSpotLights=[],this._sphere=b.create(0,0,0,1),this._boundingBox=new w,this._rangedDirLightBoundingBox=new w(0,0,0,.5,.5,.5)}var t=e.prototype;return t.cullLights=function(e,t,i){this.lights.length=0,this.shadowEnabledSpotLights.length=0;for(var r,s=a(e.spotLights);!(r=s()).done;){var n=r.value;n.baked||(b.set(this._sphere,n.position.x,n.position.y,n.position.z,n.range),P.sphereFrustum(this._sphere,t)&&(n.shadowEnabled?this.shadowEnabledSpotLights.push(n):this.lights.push(n)))}for(var o,d=a(e.sphereLights);!(o=d()).done;){var l=o.value;l.baked||(b.set(this._sphere,l.position.x,l.position.y,l.position.z,l.range),P.sphereFrustum(this._sphere,t)&&this.lights.push(l))}for(var h,u=a(e.pointLights);!(h=u()).done;){var p=h.value;p.baked||(b.set(this._sphere,p.position.x,p.position.y,p.position.z,p.range),P.sphereFrustum(this._sphere,t)&&this.lights.push(p))}for(var g,m=a(e.rangedDirLights);!(g=m()).done;){var S=g.value;w.transform(this._boundingBox,this._rangedDirLightBoundingBox,S.node.getWorldMatrix()),P.aabbFrustum(this._boundingBox,t)&&this.lights.push(S)}i&&this.shadowEnabledSpotLights.sort((function(e,a){return c.squaredDistance(i,e.position)-c.squaredDistance(i,a.position)}))},t._addLightQueues=function(e,t){for(var i,r=a(this.lights);!(i=r()).done;){var s=i.value,n=t.addQueue(d.QueueHint.BLEND,"forward-add");switch(s.type){case N.SPHERE:n.name="sphere-light";break;case N.SPOT:n.name="spot-light";break;case N.POINT:n.name="point-light";break;case N.RANGED_DIRECTIONAL:n.name="ranged-directional-light";break;default:n.name="unknown-light"}n.addScene(e,d.SceneFlags.BLEND,s)}},t.addSpotlightShadowPasses=function(e,t,i){for(var r,s=0,n=a(this.shadowEnabledSpotLights);!(r=n()).done;){var o=r.value,l=e.pipelineSceneData.shadows.size,h=e.addRenderPass(l.x,l.y,"default");if(h.name="SpotLightShadowPass"+s,h.addRenderTarget("SpotShadowMap"+s,E.CLEAR,C.STORE,new R(1,1,1,1)),h.addDepthStencil("SpotShadowDepth"+s,E.CLEAR,C.DISCARD),h.addQueue(d.QueueHint.NONE,"shadow-caster").addScene(t,d.SceneFlags.OPAQUE|d.SceneFlags.MASK|d.SceneFlags.SHADOW_CASTER).useLightFrustum(o),++s>=i)break}},t.addLightQueues=function(e,t,i){this._addLightQueues(t,e);for(var r,s=0,n=a(this.shadowEnabledSpotLights);!(r=n()).done;){var o=r.value;if(e.addTexture("SpotShadowMap"+s,"cc_spotShadowMap"),e.addQueue(d.QueueHint.BLEND,"forward-add").addScene(t,d.SceneFlags.BLEND,o),++s>=i)break}},t.addLightPasses=function(e,t,i,r,s,n,o,l,h,c){this._addLightQueues(o,c);for(var u,p=0,g=h.pipelineSceneData.shadows.size,m=a(this.shadowEnabledSpotLights);!(u=m()).done;){var S=u.value,f=h.addRenderPass(g.x,g.y,"default");f.name="SpotlightShadowPass",f.addRenderTarget("ShadowMap"+r,E.CLEAR,C.STORE,new R(1,1,1,1)),f.addDepthStencil("ShadowDepth"+r,E.CLEAR,C.DISCARD),f.addQueue(d.QueueHint.NONE,"shadow-caster").addScene(o,d.SceneFlags.OPAQUE|d.SceneFlags.MASK|d.SceneFlags.SHADOW_CASTER).useLightFrustum(S);var _=++p===this.shadowEnabledSpotLights.length?i:C.STORE;(c=h.addRenderPass(s,n,"default")).name="SpotlightWithShadowMap",c.setViewport(l),c.addRenderTarget(e,E.LOAD),c.addDepthStencil(t,E.LOAD,_),c.addTexture("ShadowMap"+r,"cc_spotShadowMap"),c.addQueue(d.QueueHint.BLEND,"forward-add").addScene(o,d.SceneFlags.BLEND,S)}return c},t.isMultipleLightPassesNeeded=function(){return this.shadowEnabledSpotLights.length>0},e}(),V=e("BuiltinForwardPassBuilder",function(){function e(){this.forwardLighting=new U,this._viewport=new A,this._clearColor=new R(0,0,0,1),this._reflectionProbeClearColor=new c(0,0,0)}var i=e.prototype;return i.getConfigOrder=function(){return e.ConfigOrder},i.getRenderOrder=function(){return e.RenderOrder},i.configCamera=function(e,a,t){t.enableMainLightShadowMap=a.shadowEnabled&&!a.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,t.enableMainLightPlanarShadowMap=a.shadowEnabled&&a.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,t.enablePlanarReflectionProbe=t.isMainGameWindow||e.cameraUsage===D.SCENE_VIEW||e.cameraUsage===D.GAME_VIEW,t.enableMSAA=t.settings.msaa.enabled&&!t.enableStoreSceneDepth&&!a.isWeb&&!a.isWebGL1,t.enableSingleForwardPass=a.isMobile||t.enableMSAA,++t.remainingPasses},i.windowResize=function(e,a,t,i,r,s,n){var o=d.ResourceFlags,l=d.ResourceResidency,h=i.renderWindowId,c=t.settings,u=t.enableShadingScale?Math.max(Math.floor(s*t.shadingScale),1):s,p=t.enableShadingScale?Math.max(Math.floor(n*t.shadingScale),1):n;if(t.enableMSAA&&(t.enableHDR?e.addTexture("MsaaRadiance"+h,x.TEX2D,t.radianceFormat,u,p,1,1,1,c.msaa.sampleCount,o.COLOR_ATTACHMENT,l.MEMORYLESS):e.addTexture("MsaaRadiance"+h,x.TEX2D,M.RGBA8,u,p,1,1,1,c.msaa.sampleCount,o.COLOR_ATTACHMENT,l.MEMORYLESS),e.addTexture("MsaaDepthStencil"+h,x.TEX2D,M.DEPTH_STENCIL,u,p,1,1,1,c.msaa.sampleCount,o.DEPTH_STENCIL_ATTACHMENT,l.MEMORYLESS)),e.addRenderTarget("ShadowMap"+h,a.shadowMapFormat,a.shadowMapSize.x,a.shadowMapSize.y),e.addDepthStencil("ShadowDepth"+h,M.DEPTH_STENCIL,a.shadowMapSize.x,a.shadowMapSize.y),t.enableSingleForwardPass)for(var g=a.mobileMaxSpotLightShadowMaps,m=0;m!==g;++m)e.addRenderTarget("SpotShadowMap"+m,a.shadowMapFormat,a.shadowMapSize.x,a.shadowMapSize.y),e.addDepthStencil("SpotShadowDepth"+m,M.DEPTH_STENCIL,a.shadowMapSize.x,a.shadowMapSize.y)},i.setup=function(e,a,t,i,r){e.setVec4("g_platform",a.platform);var s=i.window.renderWindowId,n=i.scene,o=n.mainLight;--t.remainingPasses,l(t.remainingPasses>=0),this.forwardLighting.cullLights(n,i.frustum),t.enableMainLightShadowMap&&(l(!!o),this._addCascadedShadowMapPass(e,a,s,o,i)),t.enableSingleForwardPass&&this.forwardLighting.addSpotlightShadowPasses(e,i,a.mobileMaxSpotLightShadowMaps),this._tryAddReflectionProbePasses(e,t,s,o,i.scene),t.remainingPasses>0||t.enableShadingScale?(r.colorName=t.enableShadingScale?"ScaledRadiance0_"+s:"Radiance0_"+s,r.depthStencilName=t.enableShadingScale?"ScaledSceneDepth_"+s:"SceneDepth_"+s):(r.colorName=t.colorName,r.depthStencilName=t.depthStencilName);var d=this._addForwardRadiancePasses(e,a,t,s,i,t.width,t.height,o,r.colorName,r.depthStencilName,!t.enableMSAA,t.enableStoreSceneDepth?C.STORE:C.DISCARD);return t.enableStoreSceneDepth||(r.depthStencilName=""),0===t.remainingPasses&&t.enableShadingScale?W(e,0,t,r.colorName):d},i._addCascadedShadowMapPass=function(e,a,t,i,r){var s=d.QueueHint,n=d.SceneFlags,o=e.pipelineSceneData.shadows.size,l=o.x,h=o.y,c=this._viewport;c.left=c.top=0,c.width=l,c.height=h;var u=e.addRenderPass(l,h,"default");u.name="CascadedShadowMap",u.addRenderTarget("ShadowMap"+t,E.CLEAR,C.STORE,new R(1,1,1,1)),u.addDepthStencil("ShadowDepth"+t,E.CLEAR,C.DISCARD);for(var p=e.pipelineSceneData.csmSupported?i.csmLevel:1,g=0;g!==p;++g){y(i,l,h,g,this._viewport,a.screenSpaceSignY);var m=u.addQueue(s.NONE,"shadow-caster");a.isWebGPU||m.setViewport(this._viewport),m.addScene(r,n.OPAQUE|n.MASK|n.SHADOW_CASTER).useLightFrustum(i,g)}},i._tryAddReflectionProbePasses=function(e,i,n,o,l){var h=t.internal.reflectionProbeManager;if(h)for(var c,u=d.ResourceResidency,p=h.getProbes(),g=0,m=a(p);!(c=m()).done;){var S=c.value;if(S.needRender){var f=S.renderArea(),_=Math.max(Math.floor(f.x),1),w=Math.max(Math.floor(f.y),1);if(S.probeType===s.scene.ProbeType.PLANAR){if(!i.enablePlanarReflectionProbe)continue;var b=S.realtimePlanarTexture.window,P="PlanarProbeRT"+g,T="PlanarProbeDS"+g;e.addRenderWindow(P,i.radianceFormat,_,w,b),e.addDepthStencil(T,r.Format.DEPTH_STENCIL,_,w,u.MEMORYLESS);var R=e.addRenderPass(_,w,"default");R.name="PlanarReflectionProbe"+g,this._buildReflectionProbePass(R,i,n,S.camera,P,T,o,l)}if(4===++g)break}}},i._buildReflectionProbePass=function(e,a,t,i,r,s,n,o){void 0===o&&(o=null);var l=d.QueueHint,h=d.SceneFlags,c=a.enableMSAA?C.DISCARD:C.STORE;if(O(i)){this._reflectionProbeClearColor.x=i.clearColor.x,this._reflectionProbeClearColor.y=i.clearColor.y,this._reflectionProbeClearColor.z=i.clearColor.z;var u=d.packRGBE(this._reflectionProbeClearColor);this._clearColor.x=u.x,this._clearColor.y=u.y,this._clearColor.z=u.z,this._clearColor.w=u.w,e.addRenderTarget(r,E.CLEAR,c,this._clearColor)}else e.addRenderTarget(r,E.LOAD,c);i.clearFlag&T.DEPTH_STENCIL?e.addDepthStencil(s,E.CLEAR,C.DISCARD,i.clearDepth,i.clearStencil,i.clearFlag&T.DEPTH_STENCIL):e.addDepthStencil(s,E.LOAD,C.DISCARD),a.enableMainLightShadowMap&&e.addTexture("ShadowMap"+t,"cc_shadowMap"),e.addQueue(l.NONE,"reflect-map").addScene(i,h.OPAQUE|h.MASK|h.REFLECTION_PROBE,n||void 0,o||void 0)},i._addForwardRadiancePasses=function(e,a,t,i,r,s,n,o,h,c,u,p){void 0===u&&(u=!1),void 0===p&&(p=C.DISCARD);var g=d.QueueHint,m=d.SceneFlags,S=r.clearColor;this._clearColor.x=S.x,this._clearColor.y=S.y,this._clearColor.z=S.z,this._clearColor.w=S.w;var f=r.viewport;this._viewport.left=Math.round(f.x*s),this._viewport.top=Math.round(f.y*n),this._viewport.width=Math.max(Math.round(f.width*s),1),this._viewport.height=Math.max(Math.round(f.height*n),1);var _=!u&&t.enableMSAA;l(!_||t.enableSingleForwardPass);var w=t.enableSingleForwardPass?this._addForwardSingleRadiancePass(e,a,t,i,r,_,s,n,o,h,c,p):this._addForwardMultipleRadiancePasses(e,t,i,r,s,n,o,h,c,p);t.enableMainLightPlanarShadowMap&&this._addPlanarShadowQueue(r,o,w);var b=m.BLEND|(r.geometryRenderer?m.GEOMETRY:m.NONE);return w.addQueue(g.BLEND).addScene(r,b,o||void 0),w},i._addForwardSingleRadiancePass=function(e,a,t,i,r,s,n,o,d,h,c,u){var p;if(l(t.enableSingleForwardPass),s){var g="MsaaRadiance"+i,m="MsaaDepthStencil"+i,S=t.settings.msaa.sampleCount,f=e.addMultisampleRenderPass(n,o,S,0,"default");f.name="MsaaForwardPass",this._buildForwardMainLightPass(f,t,i,r,g,m,C.DISCARD,d),f.resolveRenderTarget(g,h),p=f}else(p=e.addRenderPass(n,o,"default")).name="ForwardPass",this._buildForwardMainLightPass(p,t,i,r,h,c,u,d);return l(void 0!==p),this.forwardLighting.addLightQueues(p,r,a.mobileMaxSpotLightShadowMaps),p},i._addForwardMultipleRadiancePasses=function(e,a,t,i,r,s,n,o,d,h){l(!a.enableSingleForwardPass);var c=e.addRenderPass(r,s,"default");c.name="ForwardPass";var u=this.forwardLighting.isMultipleLightPassesNeeded()?C.STORE:h;return this._buildForwardMainLightPass(c,a,t,i,o,d,u,n),c=this.forwardLighting.addLightPasses(o,d,h,t,r,s,i,this._viewport,e,c)},i._buildForwardMainLightPass=function(e,a,t,i,r,s,n,o,l){void 0===l&&(l=null);var h=d.QueueHint,c=d.SceneFlags;e.setViewport(this._viewport);var u=a.enableMSAA?C.DISCARD:C.STORE;O(i)?e.addRenderTarget(r,E.CLEAR,u,this._clearColor):e.addRenderTarget(r,E.LOAD,u),i.clearFlag&T.DEPTH_STENCIL?e.addDepthStencil(s,E.CLEAR,n,i.clearDepth,i.clearStencil,i.clearFlag&T.DEPTH_STENCIL):e.addDepthStencil(s,E.LOAD,n),a.enableMainLightShadowMap&&e.addTexture("ShadowMap"+t,"cc_shadowMap"),e.addQueue(h.NONE).addScene(i,c.OPAQUE|c.MASK,o||void 0,l||void 0)},i._addPlanarShadowQueue=function(e,a,t){var i=d.QueueHint,r=d.SceneFlags;t.addQueue(i.BLEND,"planar-shadow").addScene(e,r.SHADOW_CASTER|r.PLANAR_SHADOW|r.BLEND,a||void 0)},e}());function k(e,a){return Math.max(Math.floor(e*a),1)}V.ConfigOrder=100,V.RenderOrder=100;var Y=e("BuiltinBloomPassBuilder",function(){function e(){this._clearColorTransparentBlack=new R(0,0,0,0),this._bloomParams=new o(0,0,0,0),this._bloomTexSize=new o(0,0,0,0),this._bloomWidths=[],this._bloomHeights=[],this._bloomTexNames=[],this._bloomUpSampleTexDescs=[],this._bloomDownSampleTexDescs=[],this._prefilterTexDesc={name:"",width:0,height:0},this._originalColorDesc={name:"",width:0,height:0}}var a=e.prototype;return a.getConfigOrder=function(){return 0},a.getRenderOrder=function(){return 200},a.configCamera=function(e,a,t){var i=t.settings.bloom,r=i.type===_.KawaseDualFilter&&!!i.kawaseFilterMaterial||i.type===_.MipmapFilter&&!!i.mipmapFilterMaterial;t.enableBloom=i.enabled&&r,t.enableBloom&&++t.remainingPasses},a.windowResize=function(e,a,t,i){if(t.enableBloom){var r=t.width,s=t.height,n=t.settings.bloom,o=i.renderWindowId,d=t.radianceFormat;if(n.type===_.KawaseDualFilter)for(var l=t.width,h=t.height,c=0;c!==n.iterations+1;++c)l=Math.max(Math.floor(l/2),1),h=Math.max(Math.floor(h/2),1),e.addRenderTarget("BloomTex"+o+"_"+c,d,l,h);else if(n.type===_.MipmapFilter){for(var u=n.iterations,p=0;p!==u+1;++p){if(p<u){var g=Math.pow(.5,p+2);this._bloomDownSampleTexDescs[p]=this.createTexture(e,"DownSampleColor"+o+p,k(r,g),k(s,g),d)}if(p<u-1){var m=Math.pow(.5,u-p-1);this._bloomUpSampleTexDescs[p]=this.createTexture(e,"UpSampleColor"+o+p,k(r,m),k(s,m),d)}}this._originalColorDesc=this.createTexture(e,"OriginalColor"+o,r,s,d),this._prefilterTexDesc=this.createTexture(e,"PrefilterColor"+o,k(r,.5),k(s,.5),d)}}},a.createTexture=function(e,a,t,i,r){var s={name:a,width:t,height:i};return e.addRenderTarget(s.name,r,s.width,s.height),s},a.setup=function(e,a,t,i,r,s){if(!t.enableBloom)return s;--t.remainingPasses,l(t.remainingPasses>=0);var n=t.settings.bloom,o=i.window.renderWindowId;switch(n.type){case _.KawaseDualFilter:var d=n.kawaseFilterMaterial;return l(!!d),this._addKawaseDualFilterBloomPasses(e,a,t,t.settings,d,o,t.width,t.height,r.colorName);case _.MipmapFilter:var h=n.mipmapFilterMaterial;return l(!!h),this._addMipmapFilterBloomPasses(e,a,t,t.settings,h,o,t.width,t.height,r.colorName);default:return s}},a._addKawaseDualFilterBloomPasses=function(e,a,t,i,r,s,n,o,l){var h=d.QueueHint,c=i.bloom.iterations,u=c+1;this._bloomWidths.length=u,this._bloomHeights.length=u,this._bloomWidths[0]=Math.max(Math.floor(n/2),1),this._bloomHeights[0]=Math.max(Math.floor(o/2),1);for(var p=1;p!==u;++p)this._bloomWidths[p]=Math.max(Math.floor(this._bloomWidths[p-1]/2),1),this._bloomHeights[p]=Math.max(Math.floor(this._bloomHeights[p-1]/2),1);this._bloomTexNames.length=u;for(var g=0;g!==u;++g)this._bloomTexNames[g]="BloomTex"+s+"_"+g;this._bloomParams.x=a.useFloatOutput?1:0,this._bloomParams.y=0,this._bloomParams.z=i.bloom.threshold,this._bloomParams.w=i.bloom.enableAlphaMask?1:0;var m=e.addRenderPass(this._bloomWidths[0],this._bloomHeights[0],"cc-bloom-prefilter");m.addRenderTarget(this._bloomTexNames[0],E.CLEAR,C.STORE,this._clearColorTransparentBlack),m.addTexture(l,"inputTexture"),m.setVec4("bloomParams",this._bloomParams),m.addQueue(h.OPAQUE).addFullscreenQuad(r,0);for(var S=1;S!==u;++S){var f=e.addRenderPass(this._bloomWidths[S],this._bloomHeights[S],"cc-bloom-downsample");f.addRenderTarget(this._bloomTexNames[S],E.CLEAR,C.STORE,this._clearColorTransparentBlack),f.addTexture(this._bloomTexNames[S-1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[S-1],this._bloomTexSize.y=this._bloomHeights[S-1],f.setVec4("bloomTexSize",this._bloomTexSize),f.addQueue(h.OPAQUE).addFullscreenQuad(r,1)}for(var _=c;_-- >0;){var w=e.addRenderPass(this._bloomWidths[_],this._bloomHeights[_],"cc-bloom-upsample");w.addRenderTarget(this._bloomTexNames[_],E.CLEAR,C.STORE,this._clearColorTransparentBlack),w.addTexture(this._bloomTexNames[_+1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[_+1],this._bloomTexSize.y=this._bloomHeights[_+1],w.setVec4("bloomTexSize",this._bloomTexSize),w.addQueue(h.OPAQUE).addFullscreenQuad(r,2)}this._bloomParams.w=i.bloom.intensity;var b=e.addRenderPass(n,o,"cc-bloom-combine");return b.addRenderTarget(l,E.LOAD,C.STORE),b.addTexture(this._bloomTexNames[0],"bloomTexture"),b.setVec4("bloomParams",this._bloomParams),b.addQueue(h.BLEND).addFullscreenQuad(r,3),0===t.remainingPasses?W(e,0,t,l):b},a._addPass=function(e,a,t,i,r,s,n,o,l,h){void 0===o&&(o=E.CLEAR),void 0===l&&(l=I),void 0===h&&(h=d.QueueHint.OPAQUE);var c=e.addRenderPass(a,t,i);return c.addRenderTarget(r,o,C.STORE,l),c.addQueue(h).addFullscreenQuad(s,n),c},a._addMipmapFilterBloomPasses=function(e,a,t,i,r,s,n,o,d){this._bloomParams.x=a.useFloatOutput?1:0,this._bloomParams.x=0,this._bloomParams.z=i.bloom.threshold,this._bloomParams.w=i.bloom.intensity;var l=this._prefilterTexDesc,h=this._addPass(e,l.width,l.height,"cc-bloom-mipmap-prefilter",l.name,r,0);h.addTexture(d,"mainTexture"),h.setVec4("bloomParams",this._bloomParams);for(var c=this._bloomDownSampleTexDescs,u=0;u<c.length;++u){var p=c[u],g=0===u?l:c[u-1],m=g.name;this._bloomTexSize.x=1/g.width,this._bloomTexSize.y=1/g.height,(h=this._addPass(e,p.width,p.height,"cc-bloom-mipmap-downsample",p.name,r,1)).addTexture(m,"mainTexture"),h.setVec4("bloomParams",this._bloomTexSize)}for(var S=c.length-1,f=this._bloomUpSampleTexDescs,_=0;_<f.length;_++){var w=f[_],b=0===_?c[S]:f[_-1],P=b.name;this._bloomTexSize.x=1/b.width,this._bloomTexSize.y=1/b.height,(h=this._addPass(e,w.width,w.height,"cc-bloom-mipmap-upsample",w.name,r,2)).addTexture(P,"mainTexture"),h.addTexture(c[S-1-_].name,"downsampleTexture"),h.setVec4("bloomParams",this._bloomTexSize)}var T=this._addPass(e,n,o,"cc-bloom-mipmap-combine",d,r,3,E.LOAD);return T.addTexture(f[f.length-1].name,"bloomTexture"),T.setVec4("bloomParams",this._bloomParams),0===t.remainingPasses?W(e,0,t,d):T},e}()),K=e("BuiltinToneMappingPassBuilder",function(){function e(){this._colorGradingTexSize=new n(0,0)}var a=e.prototype;return a.getConfigOrder=function(){return 0},a.getRenderOrder=function(){return 300},a.configCamera=function(e,a,t){var i=t.settings;t.enableColorGrading=i.colorGrading.enabled&&!!i.colorGrading.material&&!!i.colorGrading.colorGradingMap,t.enableToneMapping=t.enableHDR||t.enableColorGrading,t.enableToneMapping&&++t.remainingPasses},a.windowResize=function(e,a,t){t.enableColorGrading&&(l(!!t.settings.colorGrading.material),t.settings.colorGrading.material.setProperty("colorGradingMap",t.settings.colorGrading.colorGradingMap))},a.setup=function(e,a,t,i,r,s){if(!t.enableToneMapping)return s;if(--t.remainingPasses,l(t.remainingPasses>=0),0===t.remainingPasses)return this._addCopyAndTonemapPass(e,a,t,t.width,t.height,r.colorName,t.colorName);var n=t.renderWindowId,o=t.enableShadingScale?"ScaledLdrColor":"LdrColor",d=G(r.colorName,o,n),h=r.colorName;return r.colorName=d,this._addCopyAndTonemapPass(e,a,t,t.width,t.height,h,d)},a._addCopyAndTonemapPass=function(e,a,t,i,r,s,n){var o,h=t.settings;if(t.enableColorGrading){l(!!h.colorGrading.material),l(!!h.colorGrading.colorGradingMap);var c=h.colorGrading.colorGradingMap;this._colorGradingTexSize.x=c.width,this._colorGradingTexSize.y=c.height;var u=c.width===c.height;(o=u?e.addRenderPass(i,r,"cc-color-grading-8x8"):e.addRenderPass(i,r,"cc-color-grading-nx1")).addRenderTarget(n,E.CLEAR,C.STORE,I),o.addTexture(s,"sceneColorMap"),o.setVec2("lutTextureSize",this._colorGradingTexSize),o.setFloat("contribute",h.colorGrading.contribute),o.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(h.colorGrading.material,u?1:0)}else(o=e.addRenderPass(i,r,"cc-tone-mapping")).addRenderTarget(n,E.CLEAR,C.STORE,I),o.addTexture(s,"inputTexture"),h.toneMapping.material?o.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(h.toneMapping.material,0):(l(!!t.copyAndTonemapMaterial),o.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(t.copyAndTonemapMaterial,0));return o},e}()),X=e("BuiltinFXAAPassBuilder",function(){function e(){this._fxaaParams=new o(0,0,0,0)}var a=e.prototype;return a.getConfigOrder=function(){return 0},a.getRenderOrder=function(){return 400},a.configCamera=function(e,a,t){t.enableFXAA=t.settings.fxaa.enabled&&!!t.settings.fxaa.material,t.enableFXAA&&++t.remainingPasses},a.setup=function(e,a,t,i,r,s){if(!t.enableFXAA)return s;--t.remainingPasses,l(t.remainingPasses>=0);var n=t.renderWindowId,o=t.enableShadingScale?"ScaledLdrColor":"LdrColor",d=G(r.colorName,o,n);if(l(!!t.settings.fxaa.material),0===t.remainingPasses)return t.enableShadingScale?(this._addFxaaPass(e,a,t.settings.fxaa.material,t.width,t.height,r.colorName,d),W(e,0,t,d)):(l(t.width===t.nativeWidth),l(t.height===t.nativeHeight),this._addFxaaPass(e,a,t.settings.fxaa.material,t.width,t.height,r.colorName,t.colorName));var h=r.colorName;return r.colorName=d,this._addFxaaPass(e,a,t.settings.fxaa.material,t.width,t.height,h,d)},a._addFxaaPass=function(e,a,t,i,r,s,n){this._fxaaParams.x=i,this._fxaaParams.y=r,this._fxaaParams.z=1/i,this._fxaaParams.w=1/r;var o=e.addRenderPass(i,r,"cc-fxaa");return o.addRenderTarget(n,E.CLEAR,C.STORE,I),o.addTexture(s,"sceneColorMap"),o.setVec4("texSize",this._fxaaParams),o.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(t,0),o},e}()),q=e("BuiltinFsrPassBuilder",function(){function e(){this._fsrParams=new o(0,0,0,0),this._fsrTexSize=new o(0,0,0,0)}var a=e.prototype;return a.getConfigOrder=function(){return 0},a.getRenderOrder=function(){return 500},a.configCamera=function(e,a,t){t.enableFSR=t.settings.fsr.enabled&&!!t.settings.fsr.material&&t.enableShadingScale&&t.shadingScale<1,t.enableFSR&&++t.remainingPasses},a.setup=function(e,a,t,i,r,s){if(!t.enableFSR)return s;--t.remainingPasses;var n=r.colorName,o=0===t.remainingPasses?t.colorName:G(r.colorName,"UiColor",t.renderWindowId);return r.colorName=o,l(!!t.settings.fsr.material),this._addFsrPass(e,a,t,t.settings,t.settings.fsr.material,t.renderWindowId,t.width,t.height,n,t.nativeWidth,t.nativeHeight,o)},a._addFsrPass=function(e,a,t,i,r,s,n,o,l,c,u,p){this._fsrTexSize.x=n,this._fsrTexSize.y=o,this._fsrTexSize.z=c,this._fsrTexSize.w=u,this._fsrParams.x=h(1-i.fsr.sharpness,.02,.98);var g=G(p,"UiColor",s),m=e.addRenderPass(c,u,"cc-fsr-easu");m.addRenderTarget(g,E.CLEAR,C.STORE,I),m.addTexture(l,"outputResultMap"),m.setVec4("fsrTexSize",this._fsrTexSize),m.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(r,0);var S=e.addRenderPass(c,u,"cc-fsr-rcas");return S.addRenderTarget(p,E.CLEAR,C.STORE,I),S.addTexture(g,"outputResultMap"),S.setVec4("fsrTexSize",this._fsrTexSize),S.setVec4("fsrParams",this._fsrParams),S.addQueue(d.QueueHint.OPAQUE).addFullscreenQuad(r,1),S},e}()),j=e("BuiltinUiPassBuilder",function(){function e(){}var a=e.prototype;return a.getConfigOrder=function(){return 0},a.getRenderOrder=function(){return 1e3},a.setup=function(e,a,t,i,r,s){l(!!s);var n=d.SceneFlags.UI;return t.enableProfiler&&(n|=d.SceneFlags.PROFILER,s.showStatistics=!0),s.addQueue(d.QueueHint.BLEND,"default","default").addScene(i,n),s},e}());if(d){var Z=d.QueueHint,J=d.SceneFlags,$=function(){function e(){this._pipelineEvent=t.director.root.pipelineEvent,this._forwardPass=new V,this._bloomPass=new Y,this._toneMappingPass=new K,this._fxaaPass=new X,this._fsrPass=new q,this._uiPass=new j,this._clearColor=new R(0,0,0,1),this._viewport=new A,this._configs=new Q,this._cameraConfigs=new z,this._copyAndTonemapMaterial=new u,this._initialized=!1,this._passBuilders=[]}var i=e.prototype;return i._setupPipelinePreview=function(e,a){if(e.cameraUsage===D.SCENE_VIEW||e.cameraUsage===D.PREVIEW){var t=d.getEditorPipelineSettings();a.settings=t||H}else e.pipelineSettings?a.settings=e.pipelineSettings:a.settings=H},i._preparePipelinePasses=function(e){var t=this._passBuilders;t.length=0;var i=e.settings;if(i._passes){for(var r,s=a(i._passes);!(r=s()).done;){var n=r.value;t.push(n)}l(t.length===i._passes.length)}t.push(this._forwardPass),i.bloom.enabled&&t.push(this._bloomPass),t.push(this._toneMappingPass),i.fxaa.enabled&&t.push(this._fxaaPass),i.fsr.enabled&&t.push(this._fsrPass),t.push(this._uiPass)},i._setupBuiltinCameraConfigs=function(e,a,t,i){var s=a.window,n=a.cameraUsage===D.GAME&&!!s.swapchain,o=n||a.cameraUsage===D.GAME_VIEW;i.isMainGameWindow=n,i.renderWindowId=s.renderWindowId,i.colorName=s.colorName,i.depthStencilName=s.depthStencilName,i.enableFullPipeline=0!=(a.visibility&p.Enum.DEFAULT),i.enableProfiler=e.profiler&&o,i.remainingPasses=0,i.shadingScale=i.settings.shadingScale,i.enableShadingScale=i.settings.enableShadingScale&&1!==i.shadingScale,i.nativeWidth=Math.max(Math.floor(s.width),1),i.nativeHeight=Math.max(Math.floor(s.height),1),i.width=i.enableShadingScale?Math.max(Math.floor(i.nativeWidth*i.shadingScale),1):i.nativeWidth,i.height=i.enableShadingScale?Math.max(Math.floor(i.nativeHeight*i.shadingScale),1):i.nativeHeight,i.enableHDR=i.enableFullPipeline&&t.useFloatOutput,i.radianceFormat=i.enableHDR?r.Format.RGBA16F:r.Format.RGBA8,i.copyAndTonemapMaterial=this._copyAndTonemapMaterial,i.enableStoreSceneDepth=!1},i._setupCameraConfigs=function(e,t,i,r){this._setupPipelinePreview(t,r),this._preparePipelinePasses(r),this._passBuilders.sort((function(e,a){return e.getConfigOrder()-a.getConfigOrder()})),this._setupBuiltinCameraConfigs(e,t,i,r);for(var s,n=a(this._passBuilders);!(s=n()).done;){var o=s.value;o.configCamera&&o.configCamera(t,i,r)}},i.windowResize=function(e,t,i,r,s){B(e,this._configs),this._setupCameraConfigs(e,i,this._configs,this._cameraConfigs);var n=t.renderWindowId;e.addRenderWindow(this._cameraConfigs.colorName,M.RGBA8,r,s,t,this._cameraConfigs.depthStencilName);var o=this._cameraConfigs.width,d=this._cameraConfigs.height;this._cameraConfigs.enableShadingScale?(e.addDepthStencil("ScaledSceneDepth_"+n,M.DEPTH_STENCIL,o,d),e.addRenderTarget("ScaledRadiance0_"+n,this._cameraConfigs.radianceFormat,o,d),e.addRenderTarget("ScaledRadiance1_"+n,this._cameraConfigs.radianceFormat,o,d),e.addRenderTarget("ScaledLdrColor0_"+n,M.RGBA8,o,d),e.addRenderTarget("ScaledLdrColor1_"+n,M.RGBA8,o,d)):(e.addDepthStencil("SceneDepth_"+n,M.DEPTH_STENCIL,o,d),e.addRenderTarget("Radiance0_"+n,this._cameraConfigs.radianceFormat,o,d),e.addRenderTarget("Radiance1_"+n,this._cameraConfigs.radianceFormat,o,d),e.addRenderTarget("LdrColor0_"+n,M.RGBA8,o,d),e.addRenderTarget("LdrColor1_"+n,M.RGBA8,o,d)),e.addRenderTarget("UiColor0_"+n,M.RGBA8,r,s),e.addRenderTarget("UiColor1_"+n,M.RGBA8,r,s);for(var l,h=a(this._passBuilders);!(l=h()).done;){var c=l.value;c.windowResize&&c.windowResize(e,this._configs,this._cameraConfigs,t,i,r,s)}},i.setup=function(e,t){if(!this._initMaterials(t))for(var i,r=a(e);!(i=r()).done;){var s=i.value;s.scene&&s.window&&(this._setupCameraConfigs(t,s,this._configs,this._cameraConfigs),this._pipelineEvent.emit(g.RENDER_CAMERA_BEGIN,s),this._cameraConfigs.enableFullPipeline?this._buildForwardPipeline(t,s,s.scene,this._passBuilders):this._buildSimplePipeline(t,s),this._pipelineEvent.emit(g.RENDER_CAMERA_END,s))}},i._buildSimplePipeline=function(e,a){var t=Math.max(Math.floor(a.window.width),1),i=Math.max(Math.floor(a.window.height),1),r=this._cameraConfigs.colorName,s=this._cameraConfigs.depthStencilName,n=a.viewport;this._viewport.left=Math.round(n.x*t),this._viewport.top=Math.round(n.y*i),this._viewport.width=Math.max(Math.round(n.width*t),1),this._viewport.height=Math.max(Math.round(n.height*i),1);var o=a.clearColor;this._clearColor.x=o.x,this._clearColor.y=o.y,this._clearColor.z=o.z,this._clearColor.w=o.w;var d=e.addRenderPass(t,i,"default");O(a)?d.addRenderTarget(r,E.CLEAR,C.STORE,this._clearColor):d.addRenderTarget(r,E.LOAD,C.STORE),a.clearFlag&T.DEPTH_STENCIL?d.addDepthStencil(s,E.CLEAR,C.DISCARD,a.clearDepth,a.clearStencil,a.clearFlag&T.DEPTH_STENCIL):d.addDepthStencil(s,E.LOAD,C.DISCARD),d.setViewport(this._viewport),d.addQueue(Z.OPAQUE).addScene(a,J.OPAQUE);var l=J.BLEND|J.UI;this._cameraConfigs.enableProfiler&&(l|=J.PROFILER,d.showStatistics=!0),d.addQueue(Z.BLEND).addScene(a,l)},i._buildForwardPipeline=function(e,t,i,r){!function(e){e.sort((function(e,a){return e.getRenderOrder()-a.getRenderOrder()}))}(r);for(var s,n={colorName:"",depthStencilName:""},o=void 0,d=a(r);!(s=d()).done;){var h=s.value;h.setup&&(o=h.setup(e,this._configs,this._cameraConfigs,t,n,o))}l(0===this._cameraConfigs.remainingPasses)},i._initMaterials=function(e){return this._initialized?0:(B(e,this._configs),this._copyAndTonemapMaterial._uuid="builtin-pipeline-tone-mapping-material",this._copyAndTonemapMaterial.initialize({effectName:"pipeline/post-process/tone-mapping"}),this._copyAndTonemapMaterial.effectAsset&&(this._initialized=!0),this._initialized?0:1)},e}();d.setCustomPipeline("Builtin",new $)}t._RF.pop()}}}));

System.register("chunks:///_virtual/internal",["./builtin-pipeline-settings.ts","./builtin-pipeline-types.ts","./builtin-pipeline.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/internal', 'chunks:///_virtual/internal'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ZpbGU6L0M6L1Byb2dyYW1EYXRhL2NvY29zL2VkaXRvcnMvQ3JlYXRvci8zLjguNy9yZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvZmlsZTovQzovUHJvZ3JhbURhdGEvY29jb3MvZWRpdG9ycy9DcmVhdG9yLzMuOC43L3Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9idWlsdGluLXBpcGVsaW5lLXNldHRpbmdzLnRzIiwiLi4vZmlsZTovQzovUHJvZ3JhbURhdGEvY29jb3MvZWRpdG9ycy9DcmVhdG9yLzMuOC43L3Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9maWxlOi9DOi9Qcm9ncmFtRGF0YS9jb2Nvcy9lZGl0b3JzL0NyZWF0b3IvMy44LjcvcmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMudHMiLCIuLi9maWxlOi9DOi9Qcm9ncmFtRGF0YS9jb2Nvcy9lZGl0b3JzL0NyZWF0b3IvMy44LjcvcmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2ZpbGU6L0M6L1Byb2dyYW1EYXRhL2NvY29zL2VkaXRvcnMvQ3JlYXRvci8zLjguNy9yZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvYnVpbHRpbi1waXBlbGluZS50cyJdLCJuYW1lcyI6WyJjY2NsYXNzIiwiX2RlY29yYXRvciIsImRpc2FsbG93TXVsdGlwbGUiLCJleGVjdXRlSW5FZGl0TW9kZSIsIm1lbnUiLCJwcm9wZXJ0eSIsInJlcXVpcmVDb21wb25lbnQiLCJ0eXBlIiwiX2RlYyIsIl9kZWMyIiwiX2RlYzMiLCJDYW1lcmEiLCJfZGVjNCIsIkNDQm9vbGVhbiIsIl9kZWM1IiwiZGlzcGxheU5hbWUiLCJfZGVjNiIsImdyb3VwIiwiaWQiLCJuYW1lIiwiX2RlYzciLCJzdHlsZSIsIkNDSW50ZWdlciIsInJhbmdlIiwiX2RlYzgiLCJfZGVjOSIsInRvb2x0aXAiLCJDQ0Zsb2F0Iiwic2xpZGUiLCJfZGVjMTAiLCJfZGVjMTEiLCJCbG9vbVR5cGUiLCJfZGVjMTIiLCJfZGVjMTMiLCJNYXRlcmlhbCIsIl9kZWMxNCIsIl9kZWMxNSIsIl9kZWMxNiIsIl9kZWMxNyIsIm1pbiIsIl9kZWMxOCIsIl9kZWMxOSIsIl9kZWMyMCIsIl9kZWMyMSIsIl9kZWMyMiIsIl9kZWMyMyIsIlRleHR1cmUyRCIsIl9kZWMyNCIsIl9kZWMyNSIsIl9kZWMyNiIsIl9kZWMyNyIsIl9kZWMyOCIsIl9kZWMyOSIsIl9jbGFzcyIsIl9kZXNjcmlwdG9yIiwiX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciIsIl9jbGFzczIiLCJfQ29tcG9uZW50IiwiQnVpbHRpblBpcGVsaW5lU2V0dGluZ3MiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY2FsbCIsImFwcGx5IiwiY29uY2F0IiwiX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2Rlc2NyaXB0b3IyIiwiX2luaGVyaXRzTG9vc2UiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJnZXRQaXBlbGluZVNldHRpbmdzIiwidGhpcyIsIl9zZXR0aW5ncyIsIm9uRW5hYmxlIiwiZmlsbFJlcXVpcmVkUGlwZWxpbmVTZXR0aW5ncyIsImdldENvbXBvbmVudCIsImNhbWVyYSIsInBpcGVsaW5lU2V0dGluZ3MiLCJvbkRpc2FibGUiLCJfdHJ5RW5hYmxlRWRpdG9yUHJldmlldyIsInVuZGVmaW5lZCIsInJlbmRlcmluZyIsIl9lZGl0b3JQcmV2aWV3Iiwic2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncyIsIl9kaXNhYmxlRWRpdG9yUHJldmlldyIsImdldEVkaXRvclBpcGVsaW5lU2V0dGluZ3MiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJnZXQiLCJzZXQiLCJ2IiwibXNhYSIsImVuYWJsZWQiLCJ2YWx1ZSIsInNhbXBsZUNvdW50IiwiTWF0aCIsInBvdyIsImNlaWwiLCJsb2cyIiwibWF4IiwiZW5hYmxlU2hhZGluZ1NjYWxlIiwic2hhZGluZ1NjYWxlIiwiYmxvb20iLCJrYXdhc2VGaWx0ZXJNYXRlcmlhbCIsIm1pcG1hcEZpbHRlck1hdGVyaWFsIiwiZW5hYmxlQWxwaGFNYXNrIiwiaXRlcmF0aW9ucyIsInRocmVzaG9sZCIsImludGVuc2l0eSIsImNvbG9yR3JhZGluZyIsIm1hdGVyaWFsIiwiY29udHJpYnV0ZSIsImNvbG9yR3JhZGluZ01hcCIsInZhbCIsImZ4YWEiLCJmc3IiLCJzaGFycG5lc3MiLCJ0b25lTWFwcGluZyIsIkNvbXBvbmVudCIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImluaXRpYWxpemVyIiwibWFrZVBpcGVsaW5lU2V0dGluZ3MiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfUkYiLCJwb3AiLCJyYWRpdXNTY2FsZSIsImFuZ2xlQmlhc0RlZ3JlZSIsImJsdXJTaGFycG5lc3MiLCJhb1NhdHVyYXRpb24iLCJuZWVkQmx1ciIsImZpbGxSZXF1aXJlZE1TQUEiLCJtYWtlTVNBQSIsImZpbGxSZXF1aXJlZEJsb29tIiwibWFrZUJsb29tIiwiZmlsbFJlcXVpcmVkVG9uZU1hcHBpbmciLCJmaWxsUmVxdWlyZWRDb2xvckdyYWRpbmciLCJmaWxsUmVxdWlyZWRGU1IiLCJmaWxsUmVxdWlyZWRGWEFBIiwiU2FtcGxlQ291bnQiLCJnZngiLCJYNCIsIkthd2FzZUR1YWxGaWx0ZXIiLCJtYWtlQ29sb3JHcmFkaW5nIiwibWFrZUZTUiIsIm1ha2VGWEFBIiwibWFrZVRvbmVNYXBwaW5nIiwiY2NlbnVtIiwiQUFCQiIsImdlb21ldHJ5IiwiU3BoZXJlIiwiaW50ZXJzZWN0IiwiQ2xlYXJGbGFnQml0IiwiQ29sb3IiLCJGb3JtYXQiLCJGb3JtYXRGZWF0dXJlQml0IiwiTG9hZE9wIiwiU3RvcmVPcCIsIlRleHR1cmVUeXBlIiwiVmlld3BvcnQiLCJzY2VuZSIsInJlbmRlcmVyIiwiQ2FtZXJhVXNhZ2UiLCJDU01MZXZlbCIsIkxpZ2h0VHlwZSIsImZvcndhcmROZWVkQ2xlYXJDb2xvciIsImNsZWFyRmxhZyIsIkNPTE9SIiwiU1RFTkNJTCIsImdldENzbU1haW5MaWdodFZpZXdwb3J0IiwibGlnaHQiLCJ3IiwiaCIsImxldmVsIiwidnAiLCJzY3JlZW5TcGFjZVNpZ25ZIiwic2hhZG93Rml4ZWRBcmVhIiwiY3NtTGV2ZWwiLCJMRVZFTF8xIiwibGVmdCIsInRvcCIsIndpZHRoIiwidHJ1bmMiLCJoZWlnaHQiLCJmbG9vciIsIlBpcGVsaW5lQ29uZmlncyIsImlzV2ViIiwiaXNXZWJHTDEiLCJpc1dlYkdQVSIsImlzTW9iaWxlIiwiaXNIRFIiLCJ1c2VGbG9hdE91dHB1dCIsInRvbmVNYXBwaW5nVHlwZSIsInNoYWRvd0VuYWJsZWQiLCJzaGFkb3dNYXBGb3JtYXQiLCJSMzJGIiwic2hhZG93TWFwU2l6ZSIsIlZlYzIiLCJ1c2VQbGFuYXJTaGFkb3ciLCJzdXBwb3J0RGVwdGhTYW1wbGUiLCJtb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzIiwicGxhdGZvcm0iLCJWZWM0Iiwic2V0dXBQaXBlbGluZUNvbmZpZ3MiLCJwcGwiLCJjb25maWdzIiwic2FtcGxlRmVhdHVyZSIsIlNBTVBMRURfVEVYVFVSRSIsIkxJTkVBUl9GSUxURVIiLCJkZXZpY2UiLCJzeXMiLCJpc05hdGl2ZSIsImdmeEFQSSIsIkFQSSIsIldFQkdMIiwiV0VCR1BVIiwicGlwZWxpbmVTY2VuZURhdGEiLCJnZXRNYWNyb0Jvb2wiLCJwb3N0U2V0dGluZ3MiLCJzaGFkb3dJbmZvIiwic2hhZG93cyIsInBpcGVsaW5lIiwic3VwcG9ydHNSMzJGbG9hdFRleHR1cmUiLCJSR0JBOCIsInNpemUiLCJTaGFkb3dUeXBlIiwiUGxhbmFyIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Rm9ybWF0RmVhdHVyZXMiLCJERVBUSF9TVEVOQ0lMIiwieCIsImNsaXBTcGFjZVNpZ25ZIiwiZGVmYXVsdFNldHRpbmdzIiwiQ2FtZXJhQ29uZmlncyIsInNldHRpbmdzIiwiaXNNYWluR2FtZVdpbmRvdyIsInJlbmRlcldpbmRvd0lkIiwiY29sb3JOYW1lIiwiZGVwdGhTdGVuY2lsTmFtZSIsImVuYWJsZUZ1bGxQaXBlbGluZSIsImVuYWJsZVByb2ZpbGVyIiwicmVtYWluaW5nUGFzc2VzIiwibmF0aXZlV2lkdGgiLCJuYXRpdmVIZWlnaHQiLCJlbmFibGVIRFIiLCJyYWRpYW5jZUZvcm1hdCIsImNvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJlbmFibGVTdG9yZVNjZW5lRGVwdGgiLCJzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2siLCJhZGRDb3B5VG9TY3JlZW5QYXNzIiwicHBsQ29uZmlncyIsImNhbWVyYUNvbmZpZ3MiLCJpbnB1dCIsImFzc2VydCIsInBhc3MiLCJhZGRSZW5kZXJQYXNzIiwiYWRkUmVuZGVyVGFyZ2V0IiwiQ0xFQVIiLCJTVE9SRSIsImFkZFRleHR1cmUiLCJhZGRRdWV1ZSIsIlF1ZXVlSGludCIsIk9QQVFVRSIsImFkZEZ1bGxzY3JlZW5RdWFkIiwiZ2V0UGluZ1BvbmdSZW5kZXJUYXJnZXQiLCJwcmV2TmFtZSIsInByZWZpeCIsInN0YXJ0c1dpdGgiLCJOdW1iZXIiLCJjaGFyQXQiLCJGb3J3YXJkTGlnaHRpbmciLCJsaWdodHMiLCJzaGFkb3dFbmFibGVkU3BvdExpZ2h0cyIsIl9zcGhlcmUiLCJjcmVhdGUiLCJfYm91bmRpbmdCb3giLCJfcmFuZ2VkRGlyTGlnaHRCb3VuZGluZ0JveCIsImN1bGxMaWdodHMiLCJmcnVzdHVtIiwiY2FtZXJhUG9zIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIiwic3BvdExpZ2h0cyIsImRvbmUiLCJiYWtlZCIsInBvc2l0aW9uIiwieSIsInoiLCJzcGhlcmVGcnVzdHVtIiwicHVzaCIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJzcGhlcmVMaWdodHMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwicG9pbnRMaWdodHMiLCJfc3RlcDQiLCJfaXRlcmF0b3I0IiwicmFuZ2VkRGlyTGlnaHRzIiwidHJhbnNmb3JtIiwibm9kZSIsImdldFdvcmxkTWF0cml4IiwiYWFiYkZydXN0dW0iLCJzb3J0IiwibGhzIiwicmhzIiwiVmVjMyIsInNxdWFyZWREaXN0YW5jZSIsIl9hZGRMaWdodFF1ZXVlcyIsIl9zdGVwNSIsIl9pdGVyYXRvcjUiLCJxdWV1ZSIsIkJMRU5EIiwiU1BIRVJFIiwiU1BPVCIsIlBPSU5UIiwiUkFOR0VEX0RJUkVDVElPTkFMIiwiYWRkU2NlbmUiLCJTY2VuZUZsYWdzIiwiYWRkU3BvdGxpZ2h0U2hhZG93UGFzc2VzIiwibWF4TnVtU2hhZG93TWFwcyIsIl9zdGVwNiIsImkiLCJfaXRlcmF0b3I2Iiwic2hhZG93UGFzcyIsImFkZERlcHRoU3RlbmNpbCIsIkRJU0NBUkQiLCJOT05FIiwiTUFTSyIsIlNIQURPV19DQVNURVIiLCJ1c2VMaWdodEZydXN0dW0iLCJhZGRMaWdodFF1ZXVlcyIsIl9zdGVwNyIsIl9pdGVyYXRvcjciLCJhZGRMaWdodFBhc3NlcyIsImRlcHRoU3RlbmNpbFN0b3JlT3AiLCJ2aWV3cG9ydCIsIl9zdGVwOCIsImNvdW50IiwiX2l0ZXJhdG9yOCIsInN0b3JlT3AiLCJzZXRWaWV3cG9ydCIsIkxPQUQiLCJpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQiLCJCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyIiwiZm9yd2FyZExpZ2h0aW5nIiwiX3ZpZXdwb3J0IiwiX2NsZWFyQ29sb3IiLCJfcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvciIsIl9wcm90bzIiLCJnZXRDb25maWdPcmRlciIsIkNvbmZpZ09yZGVyIiwiZ2V0UmVuZGVyT3JkZXIiLCJSZW5kZXJPcmRlciIsImNvbmZpZ0NhbWVyYSIsInBpcGVsaW5lQ29uZmlncyIsImVuYWJsZU1haW5MaWdodFNoYWRvd01hcCIsIm1haW5MaWdodCIsImVuYWJsZU1haW5MaWdodFBsYW5hclNoYWRvd01hcCIsImVuYWJsZVBsYW5hclJlZmxlY3Rpb25Qcm9iZSIsImNhbWVyYVVzYWdlIiwiU0NFTkVfVklFVyIsIkdBTUVfVklFVyIsImVuYWJsZU1TQUEiLCJlbmFibGVTaW5nbGVGb3J3YXJkUGFzcyIsIndpbmRvd1Jlc2l6ZSIsIndpbmRvdyIsIlJlc291cmNlRmxhZ3MiLCJSZXNvdXJjZVJlc2lkZW5jeSIsIlRFWDJEIiwiQ09MT1JfQVRUQUNITUVOVCIsIk1FTU9SWUxFU1MiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJzZXR1cCIsImNvbnRleHQiLCJzZXRWZWM0IiwiX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyIsIl90cnlBZGRSZWZsZWN0aW9uUHJvYmVQYXNzZXMiLCJfYWRkRm9yd2FyZFJhZGlhbmNlUGFzc2VzIiwic2hhZG93U2l6ZSIsImNzbVN1cHBvcnRlZCIsInJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIiLCJjY2xlZ2FjeSIsImludGVybmFsIiwiX3N0ZXA5IiwicHJvYmVzIiwiZ2V0UHJvYmVzIiwicHJvYmVJRCIsIl9pdGVyYXRvcjkiLCJwcm9iZSIsIm5lZWRSZW5kZXIiLCJhcmVhIiwicmVuZGVyQXJlYSIsInByb2JlVHlwZSIsIlByb2JlVHlwZSIsIlBMQU5BUiIsInJlYWx0aW1lUGxhbmFyVGV4dHVyZSIsImFkZFJlbmRlcldpbmRvdyIsInByb2JlUGFzcyIsIl9idWlsZFJlZmxlY3Rpb25Qcm9iZVBhc3MiLCJjb2xvclN0b3JlT3AiLCJjbGVhckNvbG9yIiwicGFja1JHQkUiLCJjbGVhckRlcHRoIiwiY2xlYXJTdGVuY2lsIiwiUkVGTEVDVElPTl9QUk9CRSIsImRpc2FibGVNU0FBIiwicm91bmQiLCJfYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyIsIl9hZGRGb3J3YXJkTXVsdGlwbGVSYWRpYW5jZVBhc3NlcyIsIl9hZGRQbGFuYXJTaGFkb3dRdWV1ZSIsInNjZW5lRmxhZ3MiLCJnZW9tZXRyeVJlbmRlcmVyIiwiR0VPTUVUUlkiLCJtc2FhUmFkaWFuY2VOYW1lIiwibXNhYURlcHRoU3RlbmNpbE5hbWUiLCJtc1Bhc3MiLCJhZGRNdWx0aXNhbXBsZVJlbmRlclBhc3MiLCJfYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyIsInJlc29sdmVSZW5kZXJUYXJnZXQiLCJmaXJzdFN0b3JlT3AiLCJQTEFOQVJfU0hBRE9XIiwiZG93blNpemUiLCJzY2FsZSIsIkJ1aWx0aW5CbG9vbVBhc3NCdWlsZGVyIiwiX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrIiwiX2Jsb29tUGFyYW1zIiwiX2Jsb29tVGV4U2l6ZSIsIl9ibG9vbVdpZHRocyIsIl9ibG9vbUhlaWdodHMiLCJfYmxvb21UZXhOYW1lcyIsIl9ibG9vbVVwU2FtcGxlVGV4RGVzY3MiLCJfYmxvb21Eb3duU2FtcGxlVGV4RGVzY3MiLCJfcHJlZmlsdGVyVGV4RGVzYyIsIl9vcmlnaW5hbENvbG9yRGVzYyIsIl9wcm90bzMiLCJoYXNWYWxpZE1hdGVyaWFsIiwiTWlwbWFwRmlsdGVyIiwiZW5hYmxlQmxvb20iLCJmb3JtYXQiLCJibG9vbVdpZHRoIiwiYmxvb21IZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZGVzYyIsInByZXZSZW5kZXJQYXNzIiwiX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyIsIl9hZGRNaXBtYXBGaWx0ZXJCbG9vbVBhc3NlcyIsImJsb29tTWF0ZXJpYWwiLCJyYWRpYW5jZU5hbWUiLCJzaXplQ291bnQiLCJwcmVmaWx0ZXJQYXNzIiwiZG93blBhc3MiLCJ1cFBhc3MiLCJjb21iaW5lUGFzcyIsIl9hZGRQYXNzIiwibGF5b3V0IiwicGFzc0luZGV4IiwibG9hZE9wIiwicXVldWVIaW50IiwicHJlZmlsdGVySW5mbyIsImN1cnJTYW1wbGVQYXNzIiwiZG93blNhbXBsZUluZm9zIiwiY3VyckluZm8iLCJzYW1wbGVyU3JjIiwic2FtcGxlclNyY05hbWUiLCJsYXN0SW5kZXgiLCJ1cFNhbXBsZUluZm9zIiwic2FtcGxlU3JjIiwic2FtcGxlU3JjTmFtZSIsIkJ1aWx0aW5Ub25lTWFwcGluZ1Bhc3NCdWlsZGVyIiwiX2NvbG9yR3JhZGluZ1RleFNpemUiLCJfcHJvdG80IiwiZW5hYmxlQ29sb3JHcmFkaW5nIiwiZW5hYmxlVG9uZU1hcHBpbmciLCJzZXRQcm9wZXJ0eSIsIl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MiLCJsZHJDb2xvclByZWZpeCIsImxkckNvbG9yTmFtZSIsImx1dFRleCIsImlzU3F1YXJlTWFwIiwic2V0VmVjMiIsInNldEZsb2F0IiwiQnVpbHRpbkZYQUFQYXNzQnVpbGRlciIsIl9meGFhUGFyYW1zIiwiX3Byb3RvNSIsImVuYWJsZUZYQUEiLCJfYWRkRnhhYVBhc3MiLCJpbnB1dENvbG9yTmFtZSIsImZ4YWFNYXRlcmlhbCIsIkJ1aWx0aW5Gc3JQYXNzQnVpbGRlciIsIl9mc3JQYXJhbXMiLCJfZnNyVGV4U2l6ZSIsIl9wcm90bzYiLCJlbmFibGVGU1IiLCJvdXRwdXRDb2xvck5hbWUiLCJfYWRkRnNyUGFzcyIsImZzck1hdGVyaWFsIiwiY2xhbXAiLCJmc3JDb2xvck5hbWUiLCJlYXN1UGFzcyIsInJjYXNQYXNzIiwiQnVpbHRpblVpUGFzc0J1aWxkZXIiLCJfcHJvdG83IiwiZmxhZ3MiLCJVSSIsIlBST0ZJTEVSIiwic2hvd1N0YXRpc3RpY3MiLCJCdWlsdGluUGlwZWxpbmVCdWlsZGVyIiwiX3BpcGVsaW5lRXZlbnQiLCJkaXJlY3RvciIsInJvb3QiLCJwaXBlbGluZUV2ZW50IiwiX2ZvcndhcmRQYXNzIiwiX2Jsb29tUGFzcyIsIl90b25lTWFwcGluZ1Bhc3MiLCJfZnhhYVBhc3MiLCJfZnNyUGFzcyIsIl91aVBhc3MiLCJfY29uZmlncyIsIl9jYW1lcmFDb25maWdzIiwiX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJfaW5pdGlhbGl6ZWQiLCJfcGFzc0J1aWxkZXJzIiwiX3Byb3RvOCIsIl9zZXR1cFBpcGVsaW5lUHJldmlldyIsIlBSRVZJRVciLCJlZGl0b3JTZXR0aW5ncyIsIl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMiLCJwYXNzQnVpbGRlcnMiLCJfcGFzc2VzIiwiX3N0ZXAxMCIsIl9pdGVyYXRvcjEwIiwiX3NldHVwQnVpbHRpbkNhbWVyYUNvbmZpZ3MiLCJHQU1FIiwic3dhcGNoYWluIiwiaXNHYW1lVmlldyIsInZpc2liaWxpdHkiLCJMYXllcnMiLCJFbnVtIiwiREVGQVVMVCIsInByb2ZpbGVyIiwiUkdCQTE2RiIsIl9zZXR1cENhbWVyYUNvbmZpZ3MiLCJhIiwiYiIsIl9zdGVwMTEiLCJfaXRlcmF0b3IxMSIsImJ1aWxkZXIiLCJfc3RlcDEyIiwiX2l0ZXJhdG9yMTIiLCJjYW1lcmFzIiwiX2luaXRNYXRlcmlhbHMiLCJfc3RlcDEzIiwiX2l0ZXJhdG9yMTMiLCJlbWl0IiwiUGlwZWxpbmVFdmVudFR5cGUiLCJSRU5ERVJfQ0FNRVJBX0JFR0lOIiwiX2J1aWxkRm9yd2FyZFBpcGVsaW5lIiwiX2J1aWxkU2ltcGxlUGlwZWxpbmUiLCJSRU5ERVJfQ0FNRVJBX0VORCIsInNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5UmVuZGVyT3JkZXIiLCJfc3RlcDE0IiwibGFzdFBhc3MiLCJfaXRlcmF0b3IxNCIsIl91dWlkIiwiaW5pdGlhbGl6ZSIsImVmZmVjdE5hbWUiLCJlZmZlY3RBc3NldCIsInNldEN1c3RvbVBpcGVsaW5lIl0sIm1hcHBpbmdzIjoibXVCQW9DQSxJQUFRQSxFQUF5RkMsRUFBekZELFFBQVNFLEVBQWdGRCxFQUFoRkMsaUJBQWtCQyxHQUE4REYsRUFBOURFLGtCQUFtQkMsR0FBMkNILEVBQTNDRyxLQUFNQyxHQUFxQ0osRUFBckNJLFNBQVVDLEdBQTJCTCxFQUEzQkssaUJBQWtCQyxHQUFTTixFQUFUTSxrQ0FPcERDLEVBTG5DUixFQUFRLDJCQUEwQlMsRUFDbENMLEdBQUsscUNB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VW9ELE9BQ25CSyxTQUFTcFAsRUFBUThhLElBQ3pCb0IsRUFFT2tDLHNCQUFSLFNBQ0lsVyxFQUNBbEksRUFDQXNGLEVBQ0FpWCxJQXp5RFosU0FBK0NBLEdBQzNDQSxFQUFhak8sTUFBSyxTQUFDZ1AsRUFBR0MsR0FDbEIsT0FBT0QsRUFBRS9MLGlCQUFtQmdNLEVBQUVoTSxvQkF5eUQxQmdOLENBQXNDaEMsR0FTdEMsSUFQQSxJQU9rQ2lDLEVBUDVCM0wsRUFBMkIsQ0FDN0IxSSxVQUFXLEdBQ1hDLGlCQUFrQixJQUdsQnFVLE9BQXlEcmUsRUFFN0RzZSxFQUFBMVIsRUFBc0J1UCxLQUFZaUMsRUFBQUUsS0FBQXhSLE1BQUUsQ0FBQSxJQUF6QndRLEVBQU9jLEVBQUF2ZCxNQUNWeWMsRUFBUTlLLFFBQ1I2TCxFQUFXZixFQUFROUssTUFBTTFLLEVBQUt2SSxLQUFLa2MsU0FBVWxjLEtBQUttYyxlQUM5QzliLEVBQVE2UyxFQUFTNEwsSUFJN0J0VCxFQUErQyxJQUF4Q3hMLEtBQUttYyxlQUFldlIsa0JBQzlCMlIsRUFFTzRCLGVBQVIsU0FBdUI1VixHQUNuQixPQUFJdkksS0FBS3FjLGFBQ0UsR0FHWC9ULEVBQXFCQyxFQUFLdkksS0FBS2tjLFVBRy9CbGMsS0FBS29jLHdCQUF3QjRDLCtDQUM3QmhmLEtBQUtvYyx3QkFBd0I2QyxXQUFXLENBQUVDLFdBQVksdUNBRWxEbGYsS0FBS29jLHdCQUF3QitDLGNBQzdCbmYsS0FBS3FjLGNBQWUsR0FHakJyYyxLQUFLcWMsYUFBZSxFQUFJLElBQ2xDZCxLQUdMN2EsRUFBVTBlLGtCQUFrQixVQUFXLElBQUk3RCxLQUU3Q2hZLElBQUFDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBDb3B5cmlnaHQgKGMpIDIwMjEtMjAyNCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cclxuXHJcbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xyXG4gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXNcclxuIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcclxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgICBfZGVjb3JhdG9yLCBDYW1lcmEsIENDQm9vbGVhbiwgQ0NGbG9hdCwgQ0NJbnRlZ2VyLCBDb21wb25lbnQsXHJcbiAgICBNYXRlcmlhbCwgcmVuZGVyaW5nLCBUZXh0dXJlMkQsXHJcbn0gZnJvbSAnY2MnO1xyXG5cclxuaW1wb3J0IHsgRURJVE9SIH0gZnJvbSAnY2MvZW52JztcclxuXHJcbmltcG9ydCB7XHJcbiAgICBCbG9vbVR5cGUsXHJcbiAgICBmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzLCBtYWtlUGlwZWxpbmVTZXR0aW5ncywgUGlwZWxpbmVTZXR0aW5ncyxcclxufSBmcm9tICcuL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMnO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBkaXNhbGxvd011bHRpcGxlLCBleGVjdXRlSW5FZGl0TW9kZSwgbWVudSwgcHJvcGVydHksIHJlcXVpcmVDb21wb25lbnQsIHR5cGUgfSA9IF9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcygnQnVpbHRpblBpcGVsaW5lU2V0dGluZ3MnKVxyXG5AbWVudSgnUmVuZGVyaW5nL0J1aWx0aW5QaXBlbGluZVNldHRpbmdzJylcclxuQHJlcXVpcmVDb21wb25lbnQoQ2FtZXJhKVxyXG5AZGlzYWxsb3dNdWx0aXBsZVxyXG5AZXhlY3V0ZUluRWRpdE1vZGVcclxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5QaXBlbGluZVNldHRpbmdzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MgPSBtYWtlUGlwZWxpbmVTZXR0aW5ncygpO1xyXG5cclxuICAgIGdldFBpcGVsaW5lU2V0dGluZ3MoKTogUGlwZWxpbmVTZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVuYWJsZS9EaXNhYmxlXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcclxuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xyXG4gICAgICAgIGNhbWVyYS5waXBlbGluZVNldHRpbmdzID0gdGhpcy5fc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xyXG4gICAgICAgIGlmIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEVkaXRvciBQcmV2aWV3XHJcbiAgICBAcHJvcGVydHkoQ0NCb29sZWFuKVxyXG4gICAgcHJvdGVjdGVkIF9lZGl0b3JQcmV2aWV3ID0gZmFsc2U7XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBkaXNwbGF5TmFtZTogJ0VkaXRvciBQcmV2aWV3IChFeHBlcmltZW50YWwpJyxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICB9KVxyXG4gICAgZ2V0IGVkaXRvclByZXZpZXcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvclByZXZpZXc7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9yUHJldmlldyh2OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZWRpdG9yUHJldmlldyA9IHY7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIF90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChyZW5kZXJpbmcgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9lZGl0b3JQcmV2aWV3KSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZy5zZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBfZGlzYWJsZUVkaXRvclByZXZpZXcoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHJlbmRlcmluZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHJlbmRlcmluZy5nZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKCkgYXMgUGlwZWxpbmVTZXR0aW5ncyB8IG51bGw7XHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuX3NldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZy5zZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNU0FBXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnTVNBQScsIG5hbWU6ICdNdWx0aXNhbXBsZSBBbnRpLUFsaWFzaW5nJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBnZXQgTXNhYUVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MubXNhYS5lbmFibGVkO1xyXG4gICAgfVxyXG4gICAgc2V0IE1zYWFFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5tc2FhLmVuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ01TQUEnLCBuYW1lOiAnTXVsdGlzYW1wbGUgQW50aS1BbGlhc2luZycsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0ludGVnZXIsXHJcbiAgICAgICAgcmFuZ2U6IFsyLCA0LCAyXSxcclxuICAgIH0pXHJcbiAgICBzZXQgbXNhYVNhbXBsZUNvdW50KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB2YWx1ZSA9IDIgKiogTWF0aC5jZWlsKE1hdGgubG9nMihNYXRoLm1heCh2YWx1ZSwgMikpKTtcclxuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKHZhbHVlLCA0KTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50ID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IG1zYWFTYW1wbGVDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNoYWRpbmcgU2NhbGVcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdTaGFkaW5nU2NhbGUnLCBuYW1lOiAnU2hhZGluZ1NjYWxlJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBzZXQgc2hhZGluZ1NjYWxlRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNoYWRpbmdTY2FsZUVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46cG9zdHByb2Nlc3Muc2hhZGluZ1NjYWxlJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ1NoYWRpbmdTY2FsZScsIG5hbWU6ICdTaGFkaW5nU2NhbGUnIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICByYW5nZTogWzAuMDEsIDQsIDAuMDFdLFxyXG4gICAgICAgIHNsaWRlOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHNldCBzaGFkaW5nU2NhbGUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnNoYWRpbmdTY2FsZSA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBzaGFkaW5nU2NhbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3Muc2hhZGluZ1NjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJsb29tXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICB9KVxyXG4gICAgc2V0IGJsb29tRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBibG9vbUVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBAdHlwZShCbG9vbVR5cGUpXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgIH0pXHJcbiAgICBzZXQgYmxvb21UeXBlKHZhbHVlOiBCbG9vbVR5cGUpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS50eXBlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBibG9vbVR5cGUoKTogQmxvb21UeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20udHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgIH0pXHJcbiAgICBzZXQga2F3YXNlQmxvb21NYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuYmxvb20ua2F3YXNlRmlsdGVyTWF0ZXJpYWwgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20ua2F3YXNlRmlsdGVyTWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQga2F3YXNlQmxvb21NYXRlcmlhbCgpOiBNYXRlcmlhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLmthd2FzZUZpbHRlck1hdGVyaWFsITtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgIH0pXHJcbiAgICBzZXQgbWlwbWFwQmxvb21NYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgbWlwbWFwQmxvb21NYXRlcmlhbCgpOiBNYXRlcmlhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLm1pcG1hcEZpbHRlck1hdGVyaWFsITtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmJsb29tLmVuYWJsZUFscGhhTWFzaycsXHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBzZXQgYmxvb21FbmFibGVBbHBoYU1hc2sodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5lbmFibGVBbHBoYU1hc2sgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgYmxvb21FbmFibGVBbHBoYU1hc2soKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLmVuYWJsZUFscGhhTWFzaztcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmJsb29tLml0ZXJhdGlvbnMnLFxyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0ludGVnZXIsXHJcbiAgICAgICAgcmFuZ2U6IFsxLCA2LCAxXSxcclxuICAgICAgICBzbGlkZTogdHJ1ZSxcclxuICAgIH0pXHJcbiAgICBzZXQgYmxvb21JdGVyYXRpb25zKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5pdGVyYXRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGJsb29tSXRlcmF0aW9ucygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5pdGVyYXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Ymxvb20udGhyZXNob2xkJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICB9KVxyXG4gICAgc2V0IGJsb29tVGhyZXNob2xkKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGdldCBibG9vbVRocmVzaG9sZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHR5cGUoQ0NGbG9hdClcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgfSlcclxuICAgIHNldCBibG9vbUludGVuc2l0eSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5ID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGJsb29tSW50ZW5zaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLmludGVuc2l0eTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb2xvciBHcmFkaW5nIChMRFIpXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQ29sb3IgR3JhZGluZycsIG5hbWU6ICdDb2xvckdyYWRpbmcgKExEUikgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICB9KVxyXG4gICAgc2V0IGNvbG9yR3JhZGluZ0VuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGNvbG9yR3JhZGluZ0VuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXHJcbiAgICB9KVxyXG4gICAgc2V0IGNvbG9yR3JhZGluZ01hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGNvbG9yR3JhZGluZ01hdGVyaWFsKCk6IE1hdGVyaWFsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsITtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmNvbG9yX2dyYWRpbmcuY29udHJpYnV0ZScsXHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdDb2xvciBHcmFkaW5nJywgbmFtZTogJ0NvbG9yR3JhZGluZyAoTERSKSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXHJcbiAgICAgICAgcmFuZ2U6IFswLCAxLCAwLjAxXSxcclxuICAgICAgICBzbGlkZTogdHJ1ZSxcclxuICAgIH0pXHJcbiAgICBzZXQgY29sb3JHcmFkaW5nQ29udHJpYnV0ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbnRyaWJ1dGUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGdldCBjb2xvckdyYWRpbmdDb250cmlidXRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5jb250cmlidXRlO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Y29sb3JfZ3JhZGluZy5vcmlnaW5hbE1hcCcsXHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdDb2xvciBHcmFkaW5nJywgbmFtZTogJ0NvbG9yR3JhZGluZyAoTERSKSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IFRleHR1cmUyRCxcclxuICAgIH0pXHJcbiAgICBzZXQgY29sb3JHcmFkaW5nTWFwKHZhbDogVGV4dHVyZTJEKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCA9IHZhbDtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY29sb3JHcmFkaW5nTWFwKCk6IFRleHR1cmUyRCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXAhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZYQUFcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGWEFBJywgbmFtZTogJ0Zhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZyAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBzZXQgZnhhYUVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZ4YWEuZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBmeGFhRW5hYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5meGFhLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0ZYQUEnLCBuYW1lOiAnRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXHJcbiAgICB9KVxyXG4gICAgc2V0IGZ4YWFNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5meGFhLm1hdGVyaWFsID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGZ4YWFNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZ4YWEubWF0ZXJpYWwhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZTUlxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0ZTUicsIG5hbWU6ICdGaWRlbGl0eUZYIFN1cGVyIFJlc29sdXRpb24nLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxyXG4gICAgfSlcclxuICAgIHNldCBmc3JFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5mc3IuZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBmc3JFbmFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZzci5lbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGU1InLCBuYW1lOiAnRmlkZWxpdHlGWCBTdXBlciBSZXNvbHV0aW9uJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxyXG4gICAgfSlcclxuICAgIHNldCBmc3JNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuZnNyLm1hdGVyaWFsID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZzci5tYXRlcmlhbCA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBmc3JNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZzci5tYXRlcmlhbCE7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0ZTUicsIG5hbWU6ICdGaWRlbGl0eUZYIFN1cGVyIFJlc29sdXRpb24nLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICByYW5nZTogWzAsIDEsIDAuMDFdLFxyXG4gICAgICAgIHNsaWRlOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHNldCBmc3JTaGFycG5lc3ModmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZzci5zaGFycG5lc3MgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGdldCBmc3JTaGFycG5lc3MoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnNyLnNoYXJwbmVzcztcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnVG9uZU1hcHBpbmcnLCBuYW1lOiAnVG9uZU1hcHBpbmcnLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXHJcbiAgICB9KVxyXG4gICAgc2V0IHRvbmVNYXBwaW5nTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHRvbmVNYXBwaW5nTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy50b25lTWFwcGluZy5tYXRlcmlhbCE7XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuIENvcHlyaWdodCAoYykgMjAyMS0yMDI0IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbVxyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cclxuIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXHJcbiBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXHJcbiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcbiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiovXHJcblxyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PSAhRE8gTk9UIENIQU5HRSBUSEUgRk9MTE9XSU5HIFNFQ1RJT04gTUFOVUFMTFkhID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVGhlIGZvbGxvd2luZyBzZWN0aW9uIGlzIGF1dG8tZ2VuZXJhdGVkLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09ICFETyBOT1QgQ0hBTkdFIFRIRSBGT0xMT1dJTkcgU0VDVElPTiBNQU5VQUxMWSEgPT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xyXG5pbXBvcnQgeyBNYXRlcmlhbCwgVGV4dHVyZTJELCBjY2VudW0sIGdmeCB9IGZyb20gJ2NjJztcclxuXHJcbmNvbnN0IHsgU2FtcGxlQ291bnQgfSA9IGdmeDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTVNBQSB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgc2FtcGxlQ291bnQ6IGdmeC5TYW1wbGVDb3VudDsgLyogU2FtcGxlQ291bnQuWDQgKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1TQUEoKTogTVNBQSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNhbXBsZUNvdW50OiBTYW1wbGVDb3VudC5YNCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRNU0FBKHZhbHVlOiBNU0FBKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnNhbXBsZUNvdW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5zYW1wbGVDb3VudCA9IFNhbXBsZUNvdW50Llg0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZvcndhcmRQYXNzQ29uZmlncyB7XHJcbiAgICBlbmFibGVNYWluTGlnaHRTaGFkb3dNYXA6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBlbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXA6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBlbmFibGVQbGFuYXJSZWZsZWN0aW9uUHJvYmU6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBlbmFibGVNU0FBOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3M6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIQkFPIHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICByYWRpdXNTY2FsZTogbnVtYmVyOyAvKiAxICovXHJcbiAgICBhbmdsZUJpYXNEZWdyZWU6IG51bWJlcjsgLyogMTAgKi9cclxuICAgIGJsdXJTaGFycG5lc3M6IG51bWJlcjsgLyogMyAqL1xyXG4gICAgYW9TYXR1cmF0aW9uOiBudW1iZXI7IC8qIDEgKi9cclxuICAgIG5lZWRCbHVyOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlSEJBTygpOiBIQkFPIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgcmFkaXVzU2NhbGU6IDEsXHJcbiAgICAgICAgYW5nbGVCaWFzRGVncmVlOiAxMCxcclxuICAgICAgICBibHVyU2hhcnBuZXNzOiAzLFxyXG4gICAgICAgIGFvU2F0dXJhdGlvbjogMSxcclxuICAgICAgICBuZWVkQmx1cjogZmFsc2UsXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkSEJBTyh2YWx1ZTogSEJBTyk6IHZvaWQge1xyXG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5yYWRpdXNTY2FsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUucmFkaXVzU2NhbGUgPSAxO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLmFuZ2xlQmlhc0RlZ3JlZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuYW5nbGVCaWFzRGVncmVlID0gMTA7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuYmx1clNoYXJwbmVzcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuYmx1clNoYXJwbmVzcyA9IDM7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuYW9TYXR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5hb1NhdHVyYXRpb24gPSAxO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm5lZWRCbHVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5uZWVkQmx1ciA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBCbG9vbVR5cGUge1xyXG4gICAgS2F3YXNlRHVhbEZpbHRlcixcclxuICAgIE1pcG1hcEZpbHRlcixcclxufVxyXG5jY2VudW0oQmxvb21UeXBlKTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmxvb20ge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cclxuICAgIHR5cGU6IEJsb29tVHlwZTsgLyogQmxvb21UeXBlLkthd2FzZUR1YWxGaWx0ZXIgKi9cclxuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XHJcbiAgICAvKiByZWZjb3VudCAqLyBrYXdhc2VGaWx0ZXJNYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xyXG4gICAgLyogcmVmY291bnQgKi8gbWlwbWFwRmlsdGVyTWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIGVuYWJsZUFscGhhTWFzazogYm9vbGVhbjsgLyogZmFsc2UgKi9cclxuICAgIGl0ZXJhdGlvbnM6IG51bWJlcjsgLyogMyAqL1xyXG4gICAgdGhyZXNob2xkOiBudW1iZXI7IC8qIDAuOCAqL1xyXG4gICAgaW50ZW5zaXR5OiBudW1iZXI7IC8qIDEgKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUJsb29tKCk6IEJsb29tIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogQmxvb21UeXBlLkthd2FzZUR1YWxGaWx0ZXIsXHJcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXHJcbiAgICAgICAga2F3YXNlRmlsdGVyTWF0ZXJpYWw6IG51bGwsXHJcbiAgICAgICAgbWlwbWFwRmlsdGVyTWF0ZXJpYWw6IG51bGwsXHJcbiAgICAgICAgZW5hYmxlQWxwaGFNYXNrOiBmYWxzZSxcclxuICAgICAgICBpdGVyYXRpb25zOiAzLFxyXG4gICAgICAgIHRocmVzaG9sZDogMC44LFxyXG4gICAgICAgIGludGVuc2l0eTogMSxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRCbG9vbSh2YWx1ZTogQmxvb20pOiB2b2lkIHtcclxuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUudHlwZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUudHlwZSA9IEJsb29tVHlwZS5LYXdhc2VEdWFsRmlsdGVyO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUua2F3YXNlRmlsdGVyTWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmthd2FzZUZpbHRlck1hdGVyaWFsID0gdmFsdWUubWF0ZXJpYWwgfHwgbnVsbDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5taXBtYXBGaWx0ZXJNYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLmVuYWJsZUFscGhhTWFzayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlQWxwaGFNYXNrID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuaXRlcmF0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuaXRlcmF0aW9ucyA9IDM7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUudGhyZXNob2xkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS50aHJlc2hvbGQgPSAwLjg7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuaW50ZW5zaXR5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5pbnRlbnNpdHkgPSAxO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yR3JhZGluZyB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIGNvbnRyaWJ1dGU6IG51bWJlcjsgLyogMSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gY29sb3JHcmFkaW5nTWFwOiBUZXh0dXJlMkQgfCBudWxsO1xyXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29sb3JHcmFkaW5nKCk6IENvbG9yR3JhZGluZyB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxyXG4gICAgICAgIGNvbnRyaWJ1dGU6IDEsXHJcbiAgICAgICAgY29sb3JHcmFkaW5nTWFwOiBudWxsLFxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyh2YWx1ZTogQ29sb3JHcmFkaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuY29udHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuY29udHJpYnV0ZSA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuY29sb3JHcmFkaW5nTWFwID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5jb2xvckdyYWRpbmdNYXAgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZTUiB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIHNoYXJwbmVzczogbnVtYmVyOyAvKiAwLjggKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZTUigpOiBGU1Ige1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcclxuICAgICAgICBzaGFycG5lc3M6IDAuOCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGU1IodmFsdWU6IEZTUik6IHZvaWQge1xyXG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUubWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnNoYXJwbmVzcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuc2hhcnBuZXNzID0gMC44O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZYQUEge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cclxuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XHJcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGWEFBKCk6IEZYQUEge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGWEFBKHZhbHVlOiBGWEFBKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9uZU1hcHBpbmcge1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRvbmVNYXBwaW5nKCk6IFRvbmVNYXBwaW5nIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkVG9uZU1hcHBpbmcodmFsdWU6IFRvbmVNYXBwaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZVNldHRpbmdzIHtcclxuICAgIHJlYWRvbmx5IG1zYWE6IE1TQUE7XHJcbiAgICBlbmFibGVTaGFkaW5nU2NhbGU6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBzaGFkaW5nU2NhbGU6IG51bWJlcjsgLyogMC41ICovXHJcbiAgICByZWFkb25seSBibG9vbTogQmxvb207XHJcbiAgICByZWFkb25seSB0b25lTWFwcGluZzogVG9uZU1hcHBpbmc7XHJcbiAgICByZWFkb25seSBjb2xvckdyYWRpbmc6IENvbG9yR3JhZGluZztcclxuICAgIHJlYWRvbmx5IGZzcjogRlNSO1xyXG4gICAgcmVhZG9ubHkgZnhhYTogRlhBQTtcclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBpcGVsaW5lU2V0dGluZ3MoKTogUGlwZWxpbmVTZXR0aW5ncyB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG1zYWE6IG1ha2VNU0FBKCksXHJcbiAgICAgICAgZW5hYmxlU2hhZGluZ1NjYWxlOiBmYWxzZSxcclxuICAgICAgICBzaGFkaW5nU2NhbGU6IDAuNSxcclxuICAgICAgICBibG9vbTogbWFrZUJsb29tKCksXHJcbiAgICAgICAgdG9uZU1hcHBpbmc6IG1ha2VUb25lTWFwcGluZygpLFxyXG4gICAgICAgIGNvbG9yR3JhZGluZzogbWFrZUNvbG9yR3JhZGluZygpLFxyXG4gICAgICAgIGZzcjogbWFrZUZTUigpLFxyXG4gICAgICAgIGZ4YWE6IG1ha2VGWEFBKCksXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkUGlwZWxpbmVTZXR0aW5ncyh2YWx1ZTogUGlwZWxpbmVTZXR0aW5ncyk6IHZvaWQge1xyXG4gICAgaWYgKCF2YWx1ZS5tc2FhKSB7XHJcbiAgICAgICAgKHZhbHVlLm1zYWEgYXMgTVNBQSkgPSBtYWtlTVNBQSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRNU0FBKHZhbHVlLm1zYWEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLmVuYWJsZVNoYWRpbmdTY2FsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlU2hhZGluZ1NjYWxlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuc2hhZGluZ1NjYWxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5zaGFkaW5nU2NhbGUgPSAwLjU7XHJcbiAgICB9XHJcbiAgICBpZiAoIXZhbHVlLmJsb29tKSB7XHJcbiAgICAgICAgKHZhbHVlLmJsb29tIGFzIEJsb29tKSA9IG1ha2VCbG9vbSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRCbG9vbSh2YWx1ZS5ibG9vbSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXZhbHVlLnRvbmVNYXBwaW5nKSB7XHJcbiAgICAgICAgKHZhbHVlLnRvbmVNYXBwaW5nIGFzIFRvbmVNYXBwaW5nKSA9IG1ha2VUb25lTWFwcGluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRUb25lTWFwcGluZyh2YWx1ZS50b25lTWFwcGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXZhbHVlLmNvbG9yR3JhZGluZykge1xyXG4gICAgICAgICh2YWx1ZS5jb2xvckdyYWRpbmcgYXMgQ29sb3JHcmFkaW5nKSA9IG1ha2VDb2xvckdyYWRpbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlsbFJlcXVpcmVkQ29sb3JHcmFkaW5nKHZhbHVlLmNvbG9yR3JhZGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXZhbHVlLmZzcikge1xyXG4gICAgICAgICh2YWx1ZS5mc3IgYXMgRlNSKSA9IG1ha2VGU1IoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlsbFJlcXVpcmVkRlNSKHZhbHVlLmZzcik7XHJcbiAgICB9XHJcbiAgICBpZiAoIXZhbHVlLmZ4YWEpIHtcclxuICAgICAgICAodmFsdWUuZnhhYSBhcyBGWEFBKSA9IG1ha2VGWEFBKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbGxSZXF1aXJlZEZYQUEodmFsdWUuZnhhYSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuIENvcHlyaWdodCAoYykgMjAyMS0yMDI0IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cclxuXHJcbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvXHJcbiB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllc1xyXG4gb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxyXG4gc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4qL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGFzc2VydCwgY2NsZWdhY3ksIGNsYW1wLCBnZW9tZXRyeSwgZ2Z4LCBMYXllcnMsIE1hdGVyaWFsLCBwaXBlbGluZSxcclxuICAgIFBpcGVsaW5lRXZlbnRQcm9jZXNzb3IsIFBpcGVsaW5lRXZlbnRUeXBlLCBSZWZsZWN0aW9uUHJvYmVNYW5hZ2VyLCByZW5kZXJlcixcclxuICAgIHJlbmRlcmluZywgc3lzLCBWZWMyLCBWZWMzLCBWZWM0LCB3YXJuLFxyXG59IGZyb20gJ2NjJztcclxuXHJcbmltcG9ydCB7IERFQlVHLCBFRElUT1IgfSBmcm9tICdjYy9lbnYnO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIEJsb29tVHlwZSxcclxuICAgIG1ha2VQaXBlbGluZVNldHRpbmdzLFxyXG4gICAgUGlwZWxpbmVTZXR0aW5ncyxcclxufSBmcm9tICcuL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMnO1xyXG5cclxuY29uc3QgeyBBQUJCLCBTcGhlcmUsIGludGVyc2VjdCB9ID0gZ2VvbWV0cnk7XHJcbmNvbnN0IHsgQ2xlYXJGbGFnQml0LCBDb2xvciwgRm9ybWF0LCBGb3JtYXRGZWF0dXJlQml0LCBMb2FkT3AsIFN0b3JlT3AsIFRleHR1cmVUeXBlLCBWaWV3cG9ydCB9ID0gZ2Z4O1xyXG5jb25zdCB7IHNjZW5lIH0gPSByZW5kZXJlcjtcclxuY29uc3QgeyBDYW1lcmFVc2FnZSwgQ1NNTGV2ZWwsIExpZ2h0VHlwZSB9ID0gc2NlbmU7XHJcblxyXG5mdW5jdGlvbiBmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhIShjYW1lcmEuY2xlYXJGbGFnICYgKENsZWFyRmxhZ0JpdC5DT0xPUiB8IChDbGVhckZsYWdCaXQuU1RFTkNJTCA8PCAxKSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDc21NYWluTGlnaHRWaWV3cG9ydChcclxuICAgIGxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0LFxyXG4gICAgdzogbnVtYmVyLFxyXG4gICAgaDogbnVtYmVyLFxyXG4gICAgbGV2ZWw6IG51bWJlcixcclxuICAgIHZwOiBnZnguVmlld3BvcnQsXHJcbiAgICBzY3JlZW5TcGFjZVNpZ25ZOiBudW1iZXIsXHJcbik6IHZvaWQge1xyXG4gICAgaWYgKGxpZ2h0LnNoYWRvd0ZpeGVkQXJlYSB8fCBsaWdodC5jc21MZXZlbCA9PT0gQ1NNTGV2ZWwuTEVWRUxfMSkge1xyXG4gICAgICAgIHZwLmxlZnQgPSAwO1xyXG4gICAgICAgIHZwLnRvcCA9IDA7XHJcbiAgICAgICAgdnAud2lkdGggPSBNYXRoLnRydW5jKHcpO1xyXG4gICAgICAgIHZwLmhlaWdodCA9IE1hdGgudHJ1bmMoaCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZwLmxlZnQgPSBNYXRoLnRydW5jKGxldmVsICUgMiAqIDAuNSAqIHcpO1xyXG4gICAgICAgIGlmIChzY3JlZW5TcGFjZVNpZ25ZID4gMCkge1xyXG4gICAgICAgICAgICB2cC50b3AgPSBNYXRoLnRydW5jKCgxIC0gTWF0aC5mbG9vcihsZXZlbCAvIDIpKSAqIDAuNSAqIGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZwLnRvcCA9IE1hdGgudHJ1bmMoTWF0aC5mbG9vcihsZXZlbCAvIDIpICogMC41ICogaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZwLndpZHRoID0gTWF0aC50cnVuYygwLjUgKiB3KTtcclxuICAgICAgICB2cC5oZWlnaHQgPSBNYXRoLnRydW5jKDAuNSAqIGgpO1xyXG4gICAgfVxyXG4gICAgdnAubGVmdCA9IE1hdGgubWF4KDAsIHZwLmxlZnQpO1xyXG4gICAgdnAudG9wID0gTWF0aC5tYXgoMCwgdnAudG9wKTtcclxuICAgIHZwLndpZHRoID0gTWF0aC5tYXgoMSwgdnAud2lkdGgpO1xyXG4gICAgdnAuaGVpZ2h0ID0gTWF0aC5tYXgoMSwgdnAuaGVpZ2h0KTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBpcGVsaW5lQ29uZmlncyB7XHJcbiAgICBpc1dlYiA9IGZhbHNlO1xyXG4gICAgaXNXZWJHTDEgPSBmYWxzZTtcclxuICAgIGlzV2ViR1BVID0gZmFsc2U7XHJcbiAgICBpc01vYmlsZSA9IGZhbHNlO1xyXG4gICAgaXNIRFIgPSBmYWxzZTtcclxuICAgIHVzZUZsb2F0T3V0cHV0ID0gZmFsc2U7XHJcbiAgICB0b25lTWFwcGluZ1R5cGUgPSAwOyAvLyAwOiBBQ0VTLCAxOiBOb25lXHJcbiAgICBzaGFkb3dFbmFibGVkID0gZmFsc2U7XHJcbiAgICBzaGFkb3dNYXBGb3JtYXQgPSBGb3JtYXQuUjMyRjtcclxuICAgIHNoYWRvd01hcFNpemUgPSBuZXcgVmVjMigxLCAxKTtcclxuICAgIHVzZVBsYW5hclNoYWRvdyA9IGZhbHNlO1xyXG4gICAgc2NyZWVuU3BhY2VTaWduWSA9IDE7XHJcbiAgICBzdXBwb3J0RGVwdGhTYW1wbGUgPSBmYWxzZTtcclxuICAgIG1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMgPSAxO1xyXG5cclxuICAgIHBsYXRmb3JtID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwUGlwZWxpbmVDb25maWdzKFxyXG4gICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgIGNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcclxuKTogdm9pZCB7XHJcbiAgICBjb25zdCBzYW1wbGVGZWF0dXJlID0gRm9ybWF0RmVhdHVyZUJpdC5TQU1QTEVEX1RFWFRVUkUgfCBGb3JtYXRGZWF0dXJlQml0LkxJTkVBUl9GSUxURVI7XHJcbiAgICBjb25zdCBkZXZpY2UgPSBwcGwuZGV2aWNlO1xyXG4gICAgLy8gUGxhdGZvcm1cclxuICAgIGNvbmZpZ3MuaXNXZWIgPSAhc3lzLmlzTmF0aXZlO1xyXG4gICAgY29uZmlncy5pc1dlYkdMMSA9IGRldmljZS5nZnhBUEkgPT09IGdmeC5BUEkuV0VCR0w7XHJcbiAgICBjb25maWdzLmlzV2ViR1BVID0gZGV2aWNlLmdmeEFQSSA9PT0gZ2Z4LkFQSS5XRUJHUFU7XHJcbiAgICBjb25maWdzLmlzTW9iaWxlID0gc3lzLmlzTW9iaWxlO1xyXG5cclxuICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgY29uZmlncy5pc0hEUiA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5pc0hEUjsgLy8gSGFzIHRvbmUgbWFwcGluZ1xyXG4gICAgY29uZmlncy51c2VGbG9hdE91dHB1dCA9IHBwbC5nZXRNYWNyb0Jvb2woJ0NDX1VTRV9GTE9BVF9PVVRQVVQnKTtcclxuICAgIGNvbmZpZ3MudG9uZU1hcHBpbmdUeXBlID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnBvc3RTZXR0aW5ncy50b25lTWFwcGluZ1R5cGU7XHJcbiAgICAvLyBTaGFkb3dcclxuICAgIGNvbnN0IHNoYWRvd0luZm8gPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cztcclxuICAgIGNvbmZpZ3Muc2hhZG93RW5hYmxlZCA9IHNoYWRvd0luZm8uZW5hYmxlZDtcclxuICAgIGNvbmZpZ3Muc2hhZG93TWFwRm9ybWF0ID0gcGlwZWxpbmUuc3VwcG9ydHNSMzJGbG9hdFRleHR1cmUocHBsLmRldmljZSkgPyBGb3JtYXQuUjMyRiA6IEZvcm1hdC5SR0JBODtcclxuICAgIGNvbmZpZ3Muc2hhZG93TWFwU2l6ZS5zZXQoc2hhZG93SW5mby5zaXplKTtcclxuICAgIGNvbmZpZ3MudXNlUGxhbmFyU2hhZG93ID0gc2hhZG93SW5mby5lbmFibGVkICYmIHNoYWRvd0luZm8udHlwZSA9PT0gcmVuZGVyZXIuc2NlbmUuU2hhZG93VHlwZS5QbGFuYXI7XHJcbiAgICAvLyBEZXZpY2VcclxuICAgIGNvbmZpZ3Muc2NyZWVuU3BhY2VTaWduWSA9IHBwbC5kZXZpY2UuY2FwYWJpbGl0aWVzLnNjcmVlblNwYWNlU2lnblk7XHJcbiAgICBjb25maWdzLnN1cHBvcnREZXB0aFNhbXBsZSA9IChwcGwuZGV2aWNlLmdldEZvcm1hdEZlYXR1cmVzKEZvcm1hdC5ERVBUSF9TVEVOQ0lMKSAmIHNhbXBsZUZlYXR1cmUpID09PSBzYW1wbGVGZWF0dXJlO1xyXG4gICAgLy8gQ29uc3RhbnRzXHJcbiAgICBjb25zdCBzY3JlZW5TcGFjZVNpZ25ZID0gZGV2aWNlLmNhcGFiaWxpdGllcy5zY3JlZW5TcGFjZVNpZ25ZO1xyXG4gICAgY29uZmlncy5wbGF0Zm9ybS54ID0gY29uZmlncy5pc01vYmlsZSA/IDEuMCA6IDAuMDtcclxuICAgIGNvbmZpZ3MucGxhdGZvcm0udyA9IChzY3JlZW5TcGFjZVNpZ25ZICogMC41ICsgMC41KSA8PCAxIHwgKGRldmljZS5jYXBhYmlsaXRpZXMuY2xpcFNwYWNlU2lnblkgKiAwLjUgKyAwLjUpO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lU2V0dGluZ3MyIGV4dGVuZHMgUGlwZWxpbmVTZXR0aW5ncyB7XHJcbiAgICBfcGFzc2VzPzogcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXJbXTtcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFNldHRpbmdzID0gbWFrZVBpcGVsaW5lU2V0dGluZ3MoKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1lcmFDb25maWdzIHtcclxuICAgIHNldHRpbmdzOiBQaXBlbGluZVNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xyXG4gICAgLy8gV2luZG93XHJcbiAgICBpc01haW5HYW1lV2luZG93ID0gZmFsc2U7XHJcbiAgICByZW5kZXJXaW5kb3dJZCA9IDA7XHJcbiAgICAvLyBDYW1lcmFcclxuICAgIGNvbG9yTmFtZSA9ICcnO1xyXG4gICAgZGVwdGhTdGVuY2lsTmFtZSA9ICcnO1xyXG4gICAgLy8gUGlwZWxpbmVcclxuICAgIGVuYWJsZUZ1bGxQaXBlbGluZSA9IGZhbHNlO1xyXG4gICAgZW5hYmxlUHJvZmlsZXIgPSBmYWxzZTtcclxuICAgIHJlbWFpbmluZ1Bhc3NlcyA9IDA7XHJcbiAgICAvLyBTaGFkaW5nIFNjYWxlXHJcbiAgICBlbmFibGVTaGFkaW5nU2NhbGUgPSBmYWxzZTtcclxuICAgIHNoYWRpbmdTY2FsZSA9IDEuMDtcclxuICAgIG5hdGl2ZVdpZHRoID0gMTtcclxuICAgIG5hdGl2ZUhlaWdodCA9IDE7XHJcbiAgICB3aWR0aCA9IDE7IC8vIFNjYWxlZCB3aWR0aFxyXG4gICAgaGVpZ2h0ID0gMTsgLy8gU2NhbGVkIGhlaWdodFxyXG4gICAgLy8gUmFkaWFuY2VcclxuICAgIGVuYWJsZUhEUiA9IGZhbHNlO1xyXG4gICAgcmFkaWFuY2VGb3JtYXQgPSBnZnguRm9ybWF0LlJHQkE4O1xyXG4gICAgLy8gVG9uZSBNYXBwaW5nXHJcbiAgICBjb3B5QW5kVG9uZW1hcE1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGwgPSBudWxsO1xyXG4gICAgLy8gRGVwdGhcclxuICAgIC8qKiBAZW4gbXV0YWJsZSAqL1xyXG4gICAgZW5hYmxlU3RvcmVTY2VuZURlcHRoID0gZmFsc2U7XHJcbn1cclxuXHJcbmNvbnN0IHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayA9IG5ldyBDb2xvcigwLCAwLCAwLCAwKTtcclxuXHJcbmZ1bmN0aW9uIHNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5Q29uZmlnT3JkZXIocGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdKTogdm9pZCB7XHJcbiAgICBwYXNzQnVpbGRlcnMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIHJldHVybiBhLmdldENvbmZpZ09yZGVyKCkgLSBiLmdldENvbmZpZ09yZGVyKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc29ydFBpcGVsaW5lUGFzc0J1aWxkZXJzQnlSZW5kZXJPcmRlcihwYXNzQnVpbGRlcnM6IHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyW10pOiB2b2lkIHtcclxuICAgIHBhc3NCdWlsZGVycy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGEuZ2V0UmVuZGVyT3JkZXIoKSAtIGIuZ2V0UmVuZGVyT3JkZXIoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDb3B5VG9TY3JlZW5QYXNzKFxyXG4gICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzLFxyXG4gICAgaW5wdXQ6IHN0cmluZyxcclxuKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgYXNzZXJ0KCEhY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsKTtcclxuICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhcclxuICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoLFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0LFxyXG4gICAgICAgICdjYy10b25lLW1hcHBpbmcnKTtcclxuICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lLFxyXG4gICAgICAgIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSxcclxuICAgICAgICBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgcGFzcy5hZGRUZXh0dXJlKGlucHV0LCAnaW5wdXRUZXh0dXJlJyk7XHJcbiAgICBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChjYW1lcmFDb25maWdzLmNvcHlBbmRUb25lbWFwTWF0ZXJpYWwsIDEpO1xyXG4gICAgcmV0dXJuIHBhc3M7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChwcmV2TmFtZTogc3RyaW5nLCBwcmVmaXg6IHN0cmluZywgaWQ6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBpZiAocHJldk5hbWUuc3RhcnRzV2l0aChwcmVmaXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3ByZWZpeH0kezEgLSBOdW1iZXIocHJldk5hbWUuY2hhckF0KHByZWZpeC5sZW5ndGgpKX1fJHtpZH1gO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fTBfJHtpZH1gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lQ29udGV4dCB7XHJcbiAgICBjb2xvck5hbWU6IHN0cmluZztcclxuICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgRm9yd2FyZExpZ2h0aW5nIHtcclxuICAgIC8vIEFjdGl2ZSBsaWdodHNcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGlnaHRzOiByZW5kZXJlci5zY2VuZS5MaWdodFtdID0gW107XHJcbiAgICAvLyBBY3RpdmUgc3BvdCBsaWdodHMgd2l0aCBzaGFkb3dzIChNdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgbGlnaHRzYClcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2hhZG93RW5hYmxlZFNwb3RMaWdodHM6IHJlbmRlcmVyLnNjZW5lLlNwb3RMaWdodFtdID0gW107XHJcblxyXG4gICAgLy8gSW50ZXJuYWwgY2FjaGVkIHJlc291cmNlc1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3BoZXJlID0gU3BoZXJlLmNyZWF0ZSgwLCAwLCAwLCAxKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2JvdW5kaW5nQm94ID0gbmV3IEFBQkIoKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3ggPSBuZXcgQUFCQigwLjAsIDAuMCwgMC4wLCAwLjUsIDAuNSwgMC41KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBJbnRlcmZhY2VcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIHB1YmxpYyBjdWxsTGlnaHRzKHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSwgZnJ1c3R1bTogZ2VvbWV0cnkuRnJ1c3R1bSwgY2FtZXJhUG9zPzogVmVjMyk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IE1ha2UgbGlnaHQgY3VsbGluZyBuYXRpdmVcclxuICAgICAgICB0aGlzLmxpZ2h0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMubGVuZ3RoID0gMDtcclxuICAgICAgICAvLyBzcG90IGxpZ2h0c1xyXG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2Ygc2NlbmUuc3BvdExpZ2h0cykge1xyXG4gICAgICAgICAgICBpZiAobGlnaHQuYmFrZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNwaGVyZS5zZXQodGhpcy5fc3BoZXJlLCBsaWdodC5wb3NpdGlvbi54LCBsaWdodC5wb3NpdGlvbi55LCBsaWdodC5wb3NpdGlvbi56LCBsaWdodC5yYW5nZSk7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Quc3BoZXJlRnJ1c3R1bSh0aGlzLl9zcGhlcmUsIGZydXN0dW0pKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuc2hhZG93RW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMucHVzaChsaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNwaGVyZSBsaWdodHNcclxuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnNwaGVyZUxpZ2h0cykge1xyXG4gICAgICAgICAgICBpZiAobGlnaHQuYmFrZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFNwaGVyZS5zZXQodGhpcy5fc3BoZXJlLCBsaWdodC5wb3NpdGlvbi54LCBsaWdodC5wb3NpdGlvbi55LCBsaWdodC5wb3NpdGlvbi56LCBsaWdodC5yYW5nZSk7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Quc3BoZXJlRnJ1c3R1bSh0aGlzLl9zcGhlcmUsIGZydXN0dW0pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwb2ludCBsaWdodHNcclxuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnBvaW50TGlnaHRzKSB7XHJcbiAgICAgICAgICAgIGlmIChsaWdodC5iYWtlZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU3BoZXJlLnNldCh0aGlzLl9zcGhlcmUsIGxpZ2h0LnBvc2l0aW9uLngsIGxpZ2h0LnBvc2l0aW9uLnksIGxpZ2h0LnBvc2l0aW9uLnosIGxpZ2h0LnJhbmdlKTtcclxuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5zcGhlcmVGcnVzdHVtKHRoaXMuX3NwaGVyZSwgZnJ1c3R1bSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJhbmdlZCBkaXIgbGlnaHRzXHJcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiBzY2VuZS5yYW5nZWREaXJMaWdodHMpIHtcclxuICAgICAgICAgICAgQUFCQi50cmFuc2Zvcm0odGhpcy5fYm91bmRpbmdCb3gsIHRoaXMuX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3gsIGxpZ2h0Lm5vZGUhLmdldFdvcmxkTWF0cml4KCkpO1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0LmFhYmJGcnVzdHVtKHRoaXMuX2JvdW5kaW5nQm94LCBmcnVzdHVtKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saWdodHMucHVzaChsaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYW1lcmFQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5zb3J0KFxyXG4gICAgICAgICAgICAgICAgKGxocywgcmhzKSA9PiBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIGxocy5wb3NpdGlvbikgLSBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIHJocy5wb3NpdGlvbiksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfYWRkTGlnaHRRdWV1ZXMoY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiB0aGlzLmxpZ2h0cykge1xyXG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2ZvcndhcmQtYWRkJyk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobGlnaHQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMaWdodFR5cGUuU1BIRVJFOlxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAnc3BoZXJlLWxpZ2h0JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlNQT1Q6XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdzcG90LWxpZ2h0JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlBPSU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAncG9pbnQtbGlnaHQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMaWdodFR5cGUuUkFOR0VEX0RJUkVDVElPTkFMOlxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAncmFuZ2VkLWRpcmVjdGlvbmFsLWxpZ2h0JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICd1bmtub3duLWxpZ2h0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBxdWV1ZS5hZGRTY2VuZShcclxuICAgICAgICAgICAgICAgIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgIHJlbmRlcmluZy5TY2VuZUZsYWdzLkJMRU5ELFxyXG4gICAgICAgICAgICAgICAgbGlnaHQsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGFkZFNwb3RsaWdodFNoYWRvd1Bhc3NlcyhcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIG1heE51bVNoYWRvd01hcHM6IG51bWJlcixcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hhZG93TWFwU2l6ZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemU7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd1Bhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhzaGFkb3dNYXBTaXplLngsIHNoYWRvd01hcFNpemUueSwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgc2hhZG93UGFzcy5uYW1lID0gYFNwb3RMaWdodFNoYWRvd1Bhc3Mke2l9YDtcclxuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNwb3RTaGFkb3dNYXAke2l9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xyXG4gICAgICAgICAgICBzaGFkb3dQYXNzLmFkZERlcHRoU3RlbmNpbChgU3BvdFNoYWRvd0RlcHRoJHtpfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5ESVNDQVJEKTtcclxuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk5PTkUsICdzaGFkb3ctY2FzdGVyJylcclxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIHJlbmRlcmluZy5TY2VuZUZsYWdzLk9QQVFVRSB8IHJlbmRlcmluZy5TY2VuZUZsYWdzLk1BU0sgfCByZW5kZXJpbmcuU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxyXG4gICAgICAgICAgICAgICAgLnVzZUxpZ2h0RnJ1c3R1bShsaWdodCk7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgaWYgKGkgPj0gbWF4TnVtU2hhZG93TWFwcykge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYWRkTGlnaHRRdWV1ZXMocGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsIG1heE51bVNoYWRvd01hcHM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2FkZExpZ2h0UXVldWVzKGNhbWVyYSwgcGFzcyk7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cykge1xyXG4gICAgICAgICAgICAvLyBBZGQgc3BvdC1saWdodCBwYXNzXHJcbiAgICAgICAgICAgIC8vIFNhdmUgbGFzdCBSZW5kZXJQYXNzIHRvIHRoZSBgcGFzc2AgdmFyaWFibGVcclxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogRml4IHBlciBxdWV1ZSBhZGRUZXh0dXJlXHJcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShgU3BvdFNoYWRvd01hcCR7aX1gLCAnY2Nfc3BvdFNoYWRvd01hcCcpO1xyXG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2ZvcndhcmQtYWRkJyk7XHJcbiAgICAgICAgICAgIHF1ZXVlLmFkZFNjZW5lKGNhbWVyYSwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuQkxFTkQsIGxpZ2h0KTtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoaSA+PSBtYXhOdW1TaGFkb3dNYXBzKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBOb3RpY2U6IEZvcndhcmRMaWdodGluZyBjYW5ub3QgaGFuZGxlIGEgbG90IG9mIGxpZ2h0cy5cclxuICAgIC8vIElmIHRoZXJlIGFyZSB0b28gbWFueSBsaWdodHMsIHRoZSBwZXJmb3JtYW5jZSB3aWxsIGJlIHZlcnkgcG9vci5cclxuICAgIC8vIElmIG1hbnkgbGlnaHRzIGFyZSBuZWVkZWQsIHBsZWFzZSBpbXBsZW1lbnQgYSBmb3J3YXJkKyBvciBkZWZlcnJlZCByZW5kZXJpbmcgcGlwZWxpbmUuXHJcbiAgICBwdWJsaWMgYWRkTGlnaHRQYXNzZXMoXHJcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wLFxyXG4gICAgICAgIGlkOiBudW1iZXIsIC8vIHdpbmRvdyBpZFxyXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgdmlld3BvcnQ6IGdmeC5WaWV3cG9ydCxcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyLFxyXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgIHRoaXMuX2FkZExpZ2h0UXVldWVzKGNhbWVyYSwgcGFzcyk7XHJcblxyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgY29uc3Qgc2hhZG93TWFwU2l6ZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemU7XHJcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd1Bhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhzaGFkb3dNYXBTaXplLngsIHNoYWRvd01hcFNpemUueSwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgc2hhZG93UGFzcy5uYW1lID0gJ1Nwb3RsaWdodFNoYWRvd1Bhc3MnO1xyXG4gICAgICAgICAgICAvLyBSZXVzZSBjc20gc2hhZG93IG1hcFxyXG4gICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFJlbmRlclRhcmdldChgU2hhZG93TWFwJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIG5ldyBDb2xvcigxLCAxLCAxLCAxKSk7XHJcbiAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkRGVwdGhTdGVuY2lsKGBTaGFkb3dEZXB0aCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLkRJU0NBUkQpO1xyXG4gICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuTk9ORSwgJ3NoYWRvdy1jYXN0ZXInKVxyXG4gICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuT1BBUVVFIHwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuTUFTSyB8IHJlbmRlcmluZy5TY2VuZUZsYWdzLlNIQURPV19DQVNURVIpXHJcbiAgICAgICAgICAgICAgICAudXNlTGlnaHRGcnVzdHVtKGxpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBzcG90LWxpZ2h0IHBhc3NcclxuICAgICAgICAgICAgLy8gU2F2ZSBsYXN0IFJlbmRlclBhc3MgdG8gdGhlIGBwYXNzYCB2YXJpYWJsZVxyXG4gICAgICAgICAgICArK2NvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZU9wID0gY291bnQgPT09IHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA/IGRlcHRoU3RlbmNpbFN0b3JlT3BcclxuICAgICAgICAgICAgICAgIDogU3RvcmVPcC5TVE9SRTtcclxuXHJcbiAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICBwYXNzLm5hbWUgPSAnU3BvdGxpZ2h0V2l0aFNoYWRvd01hcCc7XHJcbiAgICAgICAgICAgIHBhc3Muc2V0Vmlld3BvcnQodmlld3BvcnQpO1xyXG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5MT0FEKTtcclxuICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIHN0b3JlT3ApO1xyXG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUoYFNoYWRvd01hcCR7aWR9YCwgJ2NjX3Nwb3RTaGFkb3dNYXAnKTtcclxuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuQkxFTkQsICdmb3J3YXJkLWFkZCcpO1xyXG4gICAgICAgICAgICBxdWV1ZS5hZGRTY2VuZShcclxuICAgICAgICAgICAgICAgIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgIHJlbmRlcmluZy5TY2VuZUZsYWdzLkJMRU5ELFxyXG4gICAgICAgICAgICAgICAgbGlnaHQsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMubGVuZ3RoID4gMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGb3J3YXJkUGFzc0NvbmZpZ3Mge1xyXG4gICAgZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwOiBib29sZWFuO1xyXG4gICAgZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwOiBib29sZWFuO1xyXG4gICAgZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlOiBib29sZWFuO1xyXG4gICAgZW5hYmxlTVNBQTogYm9vbGVhbjtcclxuICAgIGVuYWJsZVNpbmdsZUZvcndhcmRQYXNzOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnVpbHRpbkZvcndhcmRQYXNzQnVpbGRlciBpbXBsZW1lbnRzIHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyIHtcclxuICAgIHN0YXRpYyBDb25maWdPcmRlciA9IDEwMDtcclxuICAgIHN0YXRpYyBSZW5kZXJPcmRlciA9IDEwMDtcclxuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIEJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIuQ29uZmlnT3JkZXI7XHJcbiAgICB9XHJcbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyLlJlbmRlck9yZGVyO1xyXG4gICAgfVxyXG4gICAgY29uZmlnQ2FtZXJhKFxyXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcclxuICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncyk6IHZvaWQge1xyXG4gICAgICAgIC8vIFNoYWRvd1xyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwID0gcGlwZWxpbmVDb25maWdzLnNoYWRvd0VuYWJsZWRcclxuICAgICAgICAgICAgJiYgIXBpcGVsaW5lQ29uZmlncy51c2VQbGFuYXJTaGFkb3dcclxuICAgICAgICAgICAgJiYgISFjYW1lcmEuc2NlbmVcclxuICAgICAgICAgICAgJiYgISFjYW1lcmEuc2NlbmUubWFpbkxpZ2h0XHJcbiAgICAgICAgICAgICYmIGNhbWVyYS5zY2VuZS5tYWluTGlnaHQuc2hhZG93RW5hYmxlZDtcclxuXHJcbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXAgPSBwaXBlbGluZUNvbmZpZ3Muc2hhZG93RW5hYmxlZFxyXG4gICAgICAgICAgICAmJiBwaXBlbGluZUNvbmZpZ3MudXNlUGxhbmFyU2hhZG93XHJcbiAgICAgICAgICAgICYmICEhY2FtZXJhLnNjZW5lXHJcbiAgICAgICAgICAgICYmICEhY2FtZXJhLnNjZW5lLm1haW5MaWdodFxyXG4gICAgICAgICAgICAmJiBjYW1lcmEuc2NlbmUubWFpbkxpZ2h0LnNoYWRvd0VuYWJsZWQ7XHJcblxyXG4gICAgICAgIC8vIFJlZmxlY3Rpb24gUHJvYmVcclxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVBsYW5hclJlZmxlY3Rpb25Qcm9iZSA9IGNhbWVyYUNvbmZpZ3MuaXNNYWluR2FtZVdpbmRvd1xyXG4gICAgICAgICAgICB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlNDRU5FX1ZJRVdcclxuICAgICAgICAgICAgfHwgY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5HQU1FX1ZJRVc7XHJcblxyXG4gICAgICAgIC8vIE1TQUFcclxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuZW5hYmxlZFxyXG4gICAgICAgICAgICAmJiAhY2FtZXJhQ29uZmlncy5lbmFibGVTdG9yZVNjZW5lRGVwdGggLy8gQ2Fubm90IHN0b3JlIE1TIGRlcHRoLCByZXNvbHZlIGRlcHRoIGlzIGFsc28gbm90IGNyb3NzLXBsYXRmb3JtXHJcbiAgICAgICAgICAgICYmICFwaXBlbGluZUNvbmZpZ3MuaXNXZWIgLy8gVE9ETyh6aG91emhlbmdsb25nKTogcmVtb3ZlIHRoaXMgY29uc3RyYWludFxyXG4gICAgICAgICAgICAmJiAhcGlwZWxpbmVDb25maWdzLmlzV2ViR0wxO1xyXG5cclxuICAgICAgICAvLyBGb3J3YXJkIHJlbmRlcmluZyAoRGVwZW5kIG9uIE1TQUEgYW5kIFRCUilcclxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzXHJcbiAgICAgICAgICAgID0gcGlwZWxpbmVDb25maWdzLmlzTW9iaWxlIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQTtcclxuXHJcbiAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcclxuICAgIH1cclxuICAgIHdpbmRvd1Jlc2l6ZShcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXHJcbiAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3csXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgbmF0aXZlV2lkdGg6IG51bWJlcixcclxuICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IFJlc291cmNlRmxhZ3MgPSByZW5kZXJpbmcuUmVzb3VyY2VGbGFncztcclxuICAgICAgICBjb25zdCBSZXNvdXJjZVJlc2lkZW5jeSA9IHJlbmRlcmluZy5SZXNvdXJjZVJlc2lkZW5jeTtcclxuICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5yZW5kZXJXaW5kb3dJZDtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAgICAgPyBNYXRoLm1heChNYXRoLmZsb29yKG5hdGl2ZVdpZHRoICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxyXG4gICAgICAgICAgICA6IG5hdGl2ZVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihuYXRpdmVIZWlnaHQgKiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSksIDEpXHJcbiAgICAgICAgICAgIDogbmF0aXZlSGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBNc2FhUmFkaWFuY2VcclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGljZTogV2UgbmV2ZXIgc3RvcmUgbXVsdGlzYW1wbGUgcmVzdWx0cy5cclxuICAgICAgICAgICAgLy8gVGhlc2Ugc2FtcGxlcyBhcmUgYWx3YXlzIHJlc29sdmVkIGFuZCBkaXNjYXJkZWQgYXQgdGhlIGVuZCBvZiB0aGUgcmVuZGVyIHBhc3MuXHJcbiAgICAgICAgICAgIC8vIFNvIHRoZSBSZXNvdXJjZVJlc2lkZW5jeSBzaG91bGQgYmUgTUVNT1JZTEVTUy5cclxuICAgICAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlSERSKSB7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkVGV4dHVyZShgTXNhYVJhZGlhbmNlJHtpZH1gLCBUZXh0dXJlVHlwZS5URVgyRCwgY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMSwgMSwgMSxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50LCBSZXNvdXJjZUZsYWdzLkNPTE9SX0FUVEFDSE1FTlQsIFJlc291cmNlUmVzaWRlbmN5Lk1FTU9SWUxFU1MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFRleHR1cmUoYE1zYWFSYWRpYW5jZSR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCwgMSwgMSwgMSxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50LCBSZXNvdXJjZUZsYWdzLkNPTE9SX0FUVEFDSE1FTlQsIFJlc291cmNlUmVzaWRlbmN5Lk1FTU9SWUxFU1MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBwbC5hZGRUZXh0dXJlKGBNc2FhRGVwdGhTdGVuY2lsJHtpZH1gLCBUZXh0dXJlVHlwZS5URVgyRCwgRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50LCBSZXNvdXJjZUZsYWdzLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYWlubGlnaHQgU2hhZG93TWFwXHJcbiAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChcclxuICAgICAgICAgICAgYFNoYWRvd01hcCR7aWR9YCxcclxuICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBGb3JtYXQsXHJcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxyXG4gICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueSxcclxuICAgICAgICApO1xyXG4gICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoXHJcbiAgICAgICAgICAgIGBTaGFkb3dEZXB0aCR7aWR9YCxcclxuICAgICAgICAgICAgRm9ybWF0LkRFUFRIX1NURU5DSUwsXHJcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxyXG4gICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueSxcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBTcG90LWxpZ2h0IHNoYWRvdyBtYXBzXHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3MpIHtcclxuICAgICAgICAgICAgY29uc3QgY291bnQgPSBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIGBTcG90U2hhZG93TWFwJHtpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBGb3JtYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLngsXHJcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgICAgICBgU3BvdFNoYWRvd0RlcHRoJHtpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgRm9ybWF0LkRFUFRIX1NURU5DSUwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLngsXHJcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0dXAoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3MsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgY29udGV4dDogUGlwZWxpbmVDb250ZXh0KTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIC8vIEFkZCBnbG9iYWwgY29uc3RhbnRzXHJcbiAgICAgICAgcHBsLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCBwcGxDb25maWdzLnBsYXRmb3JtKTtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSBjYW1lcmEud2luZG93LnJlbmRlcldpbmRvd0lkO1xyXG5cclxuICAgICAgICBjb25zdCBzY2VuZSA9IGNhbWVyYS5zY2VuZSE7XHJcbiAgICAgICAgY29uc3QgbWFpbkxpZ2h0ID0gc2NlbmUubWFpbkxpZ2h0O1xyXG5cclxuICAgICAgICAtLWNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xyXG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcclxuXHJcbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoTGlnaHQgQ3VsbGluZylcclxuICAgICAgICB0aGlzLmZvcndhcmRMaWdodGluZy5jdWxsTGlnaHRzKHNjZW5lLCBjYW1lcmEuZnJ1c3R1bSk7XHJcblxyXG4gICAgICAgIC8vIE1haW4gRGlyZWN0aW9uYWwgbGlnaHQgQ1NNIFNoYWRvdyBNYXBcclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRTaGFkb3dNYXApIHtcclxuICAgICAgICAgICAgYXNzZXJ0KCEhbWFpbkxpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQ2FzY2FkZWRTaGFkb3dNYXBQYXNzKHBwbCwgcHBsQ29uZmlncywgaWQsIG1haW5MaWdodCwgY2FtZXJhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNwb3QgbGlnaHQgc2hhZG93IG1hcHMgKE1vYmlsZSBvciBNU0FBKVxyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzKSB7XHJcbiAgICAgICAgICAgIC8vIEN1cnJlbnRseSwgb25seSBzdXBwb3J0IDEgc3BvdCBsaWdodCB3aXRoIHNoYWRvdyBtYXAgb24gbW9iaWxlIHBsYXRmb3JtLlxyXG4gICAgICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBSZWxleCB0aGlzIGxpbWl0YXRpb24uXHJcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZExpZ2h0aW5nLmFkZFNwb3RsaWdodFNoYWRvd1Bhc3NlcyhcclxuICAgICAgICAgICAgICAgIHBwbCwgY2FtZXJhLCBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzKHBwbCwgY2FtZXJhQ29uZmlncywgaWQsIG1haW5MaWdodCwgY2FtZXJhLnNjZW5lKTtcclxuXHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID4gMCB8fCBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICAgICA/IGBTY2FsZWRSYWRpYW5jZTBfJHtpZH1gXHJcbiAgICAgICAgICAgICAgICA6IGBSYWRpYW5jZTBfJHtpZH1gO1xyXG4gICAgICAgICAgICBjb250ZXh0LmRlcHRoU3RlbmNpbE5hbWUgPSBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxyXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkU2NlbmVEZXB0aF8ke2lkfWBcclxuICAgICAgICAgICAgICAgIDogYFNjZW5lRGVwdGhfJHtpZH1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY29sb3JOYW1lID0gY2FtZXJhQ29uZmlncy5jb2xvck5hbWU7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZGVwdGhTdGVuY2lsTmFtZSA9IGNhbWVyYUNvbmZpZ3MuZGVwdGhTdGVuY2lsTmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLl9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMoXHJcbiAgICAgICAgICAgIHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncywgaWQsIGNhbWVyYSxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCwgY2FtZXJhQ29uZmlncy5oZWlnaHQsIG1haW5MaWdodCxcclxuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsIGNvbnRleHQuZGVwdGhTdGVuY2lsTmFtZSxcclxuICAgICAgICAgICAgIWNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQSxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVTdG9yZVNjZW5lRGVwdGggPyBTdG9yZU9wLlNUT1JFIDogU3RvcmVPcC5ESVNDQVJEKTtcclxuXHJcbiAgICAgICAgaWYgKCFjYW1lcmFDb25maWdzLmVuYWJsZVN0b3JlU2NlbmVEZXB0aCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRlcHRoU3RlbmNpbE5hbWUgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA9PT0gMCAmJiBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkQ29weVRvU2NyZWVuUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsIGNvbnRleHQuY29sb3JOYW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRDYXNjYWRlZFNoYWRvd01hcFBhc3MoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgbGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBRdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50O1xyXG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gRHluYW1pYyBzdGF0ZXNcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgY29uc3Qgc2hhZG93U2l6ZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemU7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzaGFkb3dTaXplLng7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc2hhZG93U2l6ZS55O1xyXG5cclxuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0O1xyXG4gICAgICAgIHZpZXdwb3J0LmxlZnQgPSB2aWV3cG9ydC50b3AgPSAwO1xyXG4gICAgICAgIHZpZXdwb3J0LndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdmlld3BvcnQuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gQ1NNIFNoYWRvdyBNYXBcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgY29uc3QgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgcGFzcy5uYW1lID0gJ0Nhc2NhZGVkU2hhZG93TWFwJztcclxuICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChgU2hhZG93TWFwJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIG5ldyBDb2xvcigxLCAxLCAxLCAxKSk7XHJcbiAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoYFNoYWRvd0RlcHRoJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuRElTQ0FSRCk7XHJcbiAgICAgICAgY29uc3QgY3NtTGV2ZWwgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuY3NtU3VwcG9ydGVkID8gbGlnaHQuY3NtTGV2ZWwgOiAxO1xyXG5cclxuICAgICAgICAvLyBBZGQgc2hhZG93IG1hcCB2aWV3cG9ydHNcclxuICAgICAgICBmb3IgKGxldCBsZXZlbCA9IDA7IGxldmVsICE9PSBjc21MZXZlbDsgKytsZXZlbCkge1xyXG4gICAgICAgICAgICBnZXRDc21NYWluTGlnaHRWaWV3cG9ydChsaWdodCwgd2lkdGgsIGhlaWdodCwgbGV2ZWwsIHRoaXMuX3ZpZXdwb3J0LCBwcGxDb25maWdzLnNjcmVlblNwYWNlU2lnblkpO1xyXG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk5PTkUsICdzaGFkb3ctY2FzdGVyJyk7XHJcbiAgICAgICAgICAgIGlmICghcHBsQ29uZmlncy5pc1dlYkdQVSkgeyAvLyBUZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgV2ViR1BVXHJcbiAgICAgICAgICAgICAgICBxdWV1ZS5zZXRWaWV3cG9ydCh0aGlzLl92aWV3cG9ydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcXVldWVcclxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIFNjZW5lRmxhZ3MuT1BBUVVFIHwgU2NlbmVGbGFncy5NQVNLIHwgU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxyXG4gICAgICAgICAgICAgICAgLnVzZUxpZ2h0RnJ1c3R1bShsaWdodCwgbGV2ZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX3RyeUFkZFJlZmxlY3Rpb25Qcm9iZVBhc3NlcyhcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUgfCBudWxsLFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcmVmbGVjdGlvblByb2JlTWFuYWdlciA9IGNjbGVnYWN5LmludGVybmFsLnJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIgYXMgUmVmbGVjdGlvblByb2JlTWFuYWdlciB8IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoIXJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBSZXNvdXJjZVJlc2lkZW5jeSA9IHJlbmRlcmluZy5SZXNvdXJjZVJlc2lkZW5jeTtcclxuICAgICAgICBjb25zdCBwcm9iZXMgPSByZWZsZWN0aW9uUHJvYmVNYW5hZ2VyLmdldFByb2JlcygpO1xyXG4gICAgICAgIGNvbnN0IG1heFByb2JlQ291bnQgPSA0O1xyXG4gICAgICAgIGxldCBwcm9iZUlEID0gMDtcclxuICAgICAgICBmb3IgKGNvbnN0IHByb2JlIG9mIHByb2Jlcykge1xyXG4gICAgICAgICAgICBpZiAoIXByb2JlLm5lZWRSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBwcm9iZS5yZW5kZXJBcmVhKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcihhcmVhLngpLCAxKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihhcmVhLnkpLCAxKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9iZS5wcm9iZVR5cGUgPT09IHJlbmRlcmVyLnNjZW5lLlByb2JlVHlwZS5QTEFOQVIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVQbGFuYXJSZWZsZWN0aW9uUHJvYmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdpbmRvdzogcmVuZGVyZXIuUmVuZGVyV2luZG93ID0gcHJvYmUucmVhbHRpbWVQbGFuYXJUZXh0dXJlIS53aW5kb3chO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JOYW1lID0gYFBsYW5hclByb2JlUlQke3Byb2JlSUR9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbE5hbWUgPSBgUGxhbmFyUHJvYmVEUyR7cHJvYmVJRH1gO1xyXG4gICAgICAgICAgICAgICAgLy8gUHJvYmVSZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlcldpbmRvdyhjb2xvck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCwgd2luZG93KTtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBnZnguRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQsIFJlc291cmNlUmVzaWRlbmN5Lk1FTU9SWUxFU1MpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvYmVQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgIHByb2JlUGFzcy5uYW1lID0gYFBsYW5hclJlZmxlY3Rpb25Qcm9iZSR7cHJvYmVJRH1gO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzKHByb2JlUGFzcywgY2FtZXJhQ29uZmlncywgaWQsIHByb2JlLmNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIG1haW5MaWdodCwgc2NlbmUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZmFjZUlkeCA9IDA7IGZhY2VJZHggPCBwcm9iZS5iYWtlZEN1YmVUZXh0dXJlcy5sZW5ndGg7IGZhY2VJZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2JlLnVwZGF0ZUNhbWVyYURpcihmYWNlSWR4KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyA9IHByb2JlLmJha2VkQ3ViZVRleHR1cmVzW2ZhY2VJZHhdLndpbmRvdyE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JOYW1lID0gYEN1YmVQcm9iZVJUJHtwcm9iZUlEfSR7ZmFjZUlkeH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbE5hbWUgPSBgQ3ViZVByb2JlRFMke3Byb2JlSUR9JHtmYWNlSWR4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvYmVSZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJXaW5kb3coY29sb3JOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCB3aW5kb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4LkZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0LCBSZXNvdXJjZVJlc2lkZW5jeS5NRU1PUllMRVNTKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvYmVQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9iZVBhc3MubmFtZSA9IGBDdWJlUHJvYmUke3Byb2JlSUR9JHtmYWNlSWR4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzKHByb2JlUGFzcywgY2FtZXJhQ29uZmlncywgaWQsIHByb2JlLmNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBtYWluTGlnaHQsIHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByb2JlLm5lZWRSZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICArK3Byb2JlSUQ7XHJcbiAgICAgICAgICAgIGlmIChwcm9iZUlEID09PSBtYXhQcm9iZUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX2J1aWxkUmVmbGVjdGlvblByb2JlUGFzcyhcclxuICAgICAgICBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxyXG4gICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSB8IG51bGwgPSBudWxsLFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcclxuICAgICAgICBjb25zdCBTY2VuZUZsYWdzID0gcmVuZGVyaW5nLlNjZW5lRmxhZ3M7XHJcbiAgICAgICAgLy8gc2V0IHZpZXdwb3J0XHJcbiAgICAgICAgY29uc3QgY29sb3JTdG9yZU9wID0gY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBID8gU3RvcmVPcC5ESVNDQVJEIDogU3RvcmVPcC5TVE9SRTtcclxuXHJcbiAgICAgICAgLy8gYmluZCBvdXRwdXQgcmVuZGVyIHRhcmdldFxyXG4gICAgICAgIGlmIChmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnggPSBjYW1lcmEuY2xlYXJDb2xvci54O1xyXG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnkgPSBjYW1lcmEuY2xlYXJDb2xvci55O1xyXG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnogPSBjYW1lcmEuY2xlYXJDb2xvci56O1xyXG4gICAgICAgICAgICBjb25zdCBjbGVhckNvbG9yID0gcmVuZGVyaW5nLnBhY2tSR0JFKHRoaXMuX3JlZmxlY3Rpb25Qcm9iZUNsZWFyQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvci56ID0gY2xlYXJDb2xvci56O1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBjb2xvclN0b3JlT3AsIHRoaXMuX2NsZWFyQ29sb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIGNvbG9yU3RvcmVPcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBiaW5kIGRlcHRoIHN0ZW5jaWwgYnVmZmVyXHJcbiAgICAgICAgaWYgKGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCkge1xyXG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWUsXHJcbiAgICAgICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXHJcbiAgICAgICAgICAgICAgICBTdG9yZU9wLkRJU0NBUkQsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJEZXB0aCxcclxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhclN0ZW5jaWwsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIFN0b3JlT3AuRElTQ0FSRCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgc2hhZG93IG1hcCBpZiBlbmFibGVkXHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwKSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShgU2hhZG93TWFwJHtpZH1gLCAnY2Nfc2hhZG93TWFwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBTZXBhcmF0ZSBPUEFRVUUgYW5kIE1BU0sgcXVldWVcclxuXHJcbiAgICAgICAgLy8gYWRkIG9wYXF1ZSBhbmQgbWFzayBxdWV1ZVxyXG4gICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk5PTkUsICdyZWZsZWN0LW1hcCcpIC8vIEN1cnJlbnRseSB3ZSBwdXQgT1BBUVVFIGFuZCBNQVNLIGludG8gb25lIHF1ZXVlLCBzbyBRdWV1ZUhpbnQgaXMgTk9ORVxyXG4gICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLFxyXG4gICAgICAgICAgICAgICAgU2NlbmVGbGFncy5PUEFRVUUgfCBTY2VuZUZsYWdzLk1BU0sgfCBTY2VuZUZsYWdzLlJFRkxFQ1RJT05fUFJPQkUsXHJcbiAgICAgICAgICAgICAgICBtYWluTGlnaHQgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgc2NlbmUgPyBzY2VuZSA6IHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxyXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICBkaXNhYmxlTVNBQTogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wID0gU3RvcmVPcC5ESVNDQVJELFxyXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XHJcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBEeW5hbWljIHN0YXRlc1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBQcmVwYXJlIGNhbWVyYSBjbGVhciBjb2xvclxyXG4gICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBjYW1lcmEuY2xlYXJDb2xvcjsgLy8gUmVkdWNlIEMrKy9UUyBpbnRlcm9wXHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci54ID0gY2xlYXJDb2xvci54O1xyXG4gICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcclxuICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnogPSBjbGVhckNvbG9yLno7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci53ID0gY2xlYXJDb2xvci53O1xyXG5cclxuICAgICAgICAvLyBQcmVwYXJlIGNhbWVyYSB2aWV3cG9ydFxyXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gY2FtZXJhLnZpZXdwb3J0OyAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcclxuICAgICAgICB0aGlzLl92aWV3cG9ydC5sZWZ0ID0gTWF0aC5yb3VuZCh2aWV3cG9ydC54ICogd2lkdGgpO1xyXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LnRvcCA9IE1hdGgucm91bmQodmlld3BvcnQueSAqIGhlaWdodCk7XHJcbiAgICAgICAgLy8gSGVyZSB3ZSBtdXN0IHVzZSBjYW1lcmEudmlld3BvcnQud2lkdGggaW5zdGVhZCBvZiBjYW1lcmEudmlld3BvcnQueiwgd2hpY2hcclxuICAgICAgICAvLyBpcyB1bmRlZmluZWQgb24gbmF0aXZlIHBsYXRmb3JtLiBUaGUgc2FtZSBhcyBjYW1lcmEudmlld3BvcnQuaGVpZ2h0LlxyXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LndpZHRoID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC53aWR0aCAqIHdpZHRoKSwgMSk7XHJcbiAgICAgICAgdGhpcy5fdmlld3BvcnQuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC5oZWlnaHQgKiBoZWlnaHQpLCAxKTtcclxuXHJcbiAgICAgICAgLy8gTVNBQVxyXG4gICAgICAgIGNvbnN0IGVuYWJsZU1TQUEgPSAhZGlzYWJsZU1TQUEgJiYgY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBO1xyXG4gICAgICAgIGFzc2VydCghZW5hYmxlTVNBQSB8fCBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzKTtcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGNvbnN0IHBhc3MgPSBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzXHJcbiAgICAgICAgICAgID8gdGhpcy5fYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsXHJcbiAgICAgICAgICAgICAgICBpZCwgY2FtZXJhLCBlbmFibGVNU0FBLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXHJcbiAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIGRlcHRoU3RlbmNpbFN0b3JlT3ApXHJcbiAgICAgICAgICAgIDogdGhpcy5fYWRkRm9yd2FyZE11bHRpcGxlUmFkaWFuY2VQYXNzZXMocHBsLCBjYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgaWQsIGNhbWVyYSwgd2lkdGgsIGhlaWdodCwgbWFpbkxpZ2h0LFxyXG4gICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcclxuXHJcbiAgICAgICAgLy8gUGxhbmFyIFNoYWRvd1xyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFBsYW5hclNoYWRvd01hcCkge1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRQbGFuYXJTaGFkb3dRdWV1ZShjYW1lcmEsIG1haW5MaWdodCwgcGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoQmxlbmQpXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEFkZCB0cmFuc3BhcmVudCBxdWV1ZVxyXG5cclxuICAgICAgICBjb25zdCBzY2VuZUZsYWdzID0gU2NlbmVGbGFncy5CTEVORCB8XHJcbiAgICAgICAgICAgIChjYW1lcmEuZ2VvbWV0cnlSZW5kZXJlclxyXG4gICAgICAgICAgICAgICAgPyBTY2VuZUZsYWdzLkdFT01FVFJZXHJcbiAgICAgICAgICAgICAgICA6IFNjZW5lRmxhZ3MuTk9ORSk7XHJcblxyXG4gICAgICAgIHBhc3NcclxuICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORClcclxuICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgc2NlbmVGbGFncywgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXNzO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyhcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICBlbmFibGVNU0FBOiBib29sZWFuLFxyXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3BcclxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcclxuICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcyk7XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGxldCBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcjtcclxuICAgICAgICBpZiAoZW5hYmxlTVNBQSkge1xyXG4gICAgICAgICAgICBjb25zdCBtc2FhUmFkaWFuY2VOYW1lID0gYE1zYWFSYWRpYW5jZSR7aWR9YDtcclxuICAgICAgICAgICAgY29uc3QgbXNhYURlcHRoU3RlbmNpbE5hbWUgPSBgTXNhYURlcHRoU3RlbmNpbCR7aWR9YDtcclxuICAgICAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtc1Bhc3MgPSBwcGwuYWRkTXVsdGlzYW1wbGVSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsIHNhbXBsZUNvdW50LCAwLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICBtc1Bhc3MubmFtZSA9ICdNc2FhRm9yd2FyZFBhc3MnO1xyXG5cclxuICAgICAgICAgICAgLy8gTVNBQSBhbHdheXMgZGlzY2FyZHMgZGVwdGggc3RlbmNpbFxyXG4gICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKG1zUGFzcywgY2FtZXJhQ29uZmlncywgaWQsIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgIG1zYWFSYWRpYW5jZU5hbWUsIG1zYWFEZXB0aFN0ZW5jaWxOYW1lLCBTdG9yZU9wLkRJU0NBUkQsIG1haW5MaWdodCk7XHJcblxyXG4gICAgICAgICAgICBtc1Bhc3MucmVzb2x2ZVJlbmRlclRhcmdldChtc2FhUmFkaWFuY2VOYW1lLCBjb2xvck5hbWUpO1xyXG5cclxuICAgICAgICAgICAgcGFzcyA9IG1zUGFzcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgcGFzcy5uYW1lID0gJ0ZvcndhcmRQYXNzJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MocGFzcywgY2FtZXJhQ29uZmlncywgaWQsIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcCwgbWFpbkxpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXNzZXJ0KHBhc3MgIT09IHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKEFkZGl0aXZlIExpZ2h0cylcclxuICAgICAgICB0aGlzLmZvcndhcmRMaWdodGluZy5hZGRMaWdodFF1ZXVlcyhcclxuICAgICAgICAgICAgcGFzcyxcclxuICAgICAgICAgICAgY2FtZXJhLFxyXG4gICAgICAgICAgICBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhc3M7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRGb3J3YXJkTXVsdGlwbGVSYWRpYW5jZVBhc3NlcyhcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxyXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wOiBnZnguU3RvcmVPcFxyXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgIGFzc2VydCghY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcyk7XHJcblxyXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXHJcbiAgICAgICAgbGV0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHBhc3MubmFtZSA9ICdGb3J3YXJkUGFzcyc7XHJcblxyXG4gICAgICAgIGNvbnN0IGZpcnN0U3RvcmVPcCA9IHRoaXMuZm9yd2FyZExpZ2h0aW5nLmlzTXVsdGlwbGVMaWdodFBhc3Nlc05lZWRlZCgpXHJcbiAgICAgICAgICAgID8gU3RvcmVPcC5TVE9SRVxyXG4gICAgICAgICAgICA6IGRlcHRoU3RlbmNpbFN0b3JlT3A7XHJcblxyXG4gICAgICAgIHRoaXMuX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MocGFzcywgY2FtZXJhQ29uZmlncyxcclxuICAgICAgICAgICAgaWQsIGNhbWVyYSwgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBmaXJzdFN0b3JlT3AsIG1haW5MaWdodCk7XHJcblxyXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKEFkZGl0aXZlIExpZ2h0cylcclxuICAgICAgICBwYXNzID0gdGhpcy5mb3J3YXJkTGlnaHRpbmdcclxuICAgICAgICAgICAgLmFkZExpZ2h0UGFzc2VzKGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcCxcclxuICAgICAgICAgICAgICAgIGlkLCB3aWR0aCwgaGVpZ2h0LCBjYW1lcmEsIHRoaXMuX3ZpZXdwb3J0LCBwcGwsIHBhc3MpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFzcztcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MoXHJcbiAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3AsXHJcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUgfCBudWxsID0gbnVsbCxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XHJcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xyXG4gICAgICAgIC8vIHNldCB2aWV3cG9ydFxyXG4gICAgICAgIHBhc3Muc2V0Vmlld3BvcnQodGhpcy5fdmlld3BvcnQpO1xyXG5cclxuICAgICAgICBjb25zdCBjb2xvclN0b3JlT3AgPSBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPyBTdG9yZU9wLkRJU0NBUkQgOiBTdG9yZU9wLlNUT1JFO1xyXG5cclxuICAgICAgICAvLyBiaW5kIG91dHB1dCByZW5kZXIgdGFyZ2V0XHJcbiAgICAgICAgaWYgKGZvcndhcmROZWVkQ2xlYXJDb2xvcihjYW1lcmEpKSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBjb2xvclN0b3JlT3AsIHRoaXMuX2NsZWFyQ29sb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIGNvbG9yU3RvcmVPcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBiaW5kIGRlcHRoIHN0ZW5jaWwgYnVmZmVyXHJcbiAgICAgICAgaWYgKERFQlVHKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2xvck5hbWUgPT09IGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lICYmXHJcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lICE9PSBjYW1lcmFDb25maWdzLmRlcHRoU3RlbmNpbE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJ0RlZmF1bHQgZnJhbWVidWZmZXIgY2Fubm90IHVzZSBjdXN0b20gZGVwdGggc3RlbmNpbCBidWZmZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCkge1xyXG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWUsXHJcbiAgICAgICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXHJcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRGVwdGgsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJTdGVuY2lsLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBzaGFkb3cgbWFwIGlmIGVuYWJsZWRcclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRTaGFkb3dNYXApIHtcclxuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTaGFkb3dNYXAke2lkfWAsICdjY19zaGFkb3dNYXAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IFNlcGFyYXRlIE9QQVFVRSBhbmQgTUFTSyBxdWV1ZVxyXG5cclxuICAgICAgICAvLyBhZGQgb3BhcXVlIGFuZCBtYXNrIHF1ZXVlXHJcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuTk9ORSkgLy8gQ3VycmVudGx5IHdlIHB1dCBPUEFRVUUgYW5kIE1BU0sgaW50byBvbmUgcXVldWUsIHNvIFF1ZXVlSGludCBpcyBOT05FXHJcbiAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLk9QQVFVRSB8IFNjZW5lRmxhZ3MuTUFTSyxcclxuICAgICAgICAgICAgICAgIG1haW5MaWdodCB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBzY2VuZSA/IHNjZW5lIDogdW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2FkZFBsYW5hclNoYWRvd1F1ZXVlKFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXHJcbiAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXHJcbiAgICApIHtcclxuICAgICAgICBjb25zdCBRdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50O1xyXG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcclxuICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORCwgJ3BsYW5hci1zaGFkb3cnKVxyXG4gICAgICAgICAgICAuYWRkU2NlbmUoXHJcbiAgICAgICAgICAgICAgICBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLlNIQURPV19DQVNURVIgfCBTY2VuZUZsYWdzLlBMQU5BUl9TSEFET1cgfCBTY2VuZUZsYWdzLkJMRU5ELFxyXG4gICAgICAgICAgICAgICAgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZm9yd2FyZExpZ2h0aW5nID0gbmV3IEZvcndhcmRMaWdodGluZygpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfdmlld3BvcnQgPSBuZXcgVmlld3BvcnQoKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMSk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yID0gbmV3IFZlYzMoMCwgMCwgMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmxvb21QYXNzQ29uZmlncyB7XHJcbiAgICBlbmFibGVCbG9vbTogYm9vbGVhbjtcclxufVxyXG5cclxuZnVuY3Rpb24gZG93blNpemUoc2l6ZTogbnVtYmVyLCBzY2FsZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLm1heChNYXRoLmZsb29yKHNpemUgKiBzY2FsZSksIDEpO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVuZGVyVGV4dHVyZURlc2Mge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnVpbHRpbkJsb29tUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XHJcbiAgICBnZXRDb25maWdPcmRlcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgZ2V0UmVuZGVyT3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjAwO1xyXG4gICAgfVxyXG4gICAgY29uZmlnQ2FtZXJhKFxyXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcclxuICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEJsb29tUGFzc0NvbmZpZ3MpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IGJsb29tIH0gPSBjYW1lcmFDb25maWdzLnNldHRpbmdzO1xyXG4gICAgICAgIGNvbnN0IGhhc1ZhbGlkTWF0ZXJpYWwgPSAoXHJcbiAgICAgICAgICAgIGJsb29tLnR5cGUgPT09IEJsb29tVHlwZS5LYXdhc2VEdWFsRmlsdGVyICYmICEhYmxvb20ua2F3YXNlRmlsdGVyTWF0ZXJpYWwgfHxcclxuICAgICAgICAgICAgYmxvb20udHlwZSA9PT0gQmxvb21UeXBlLk1pcG1hcEZpbHRlciAmJiAhIWJsb29tLm1pcG1hcEZpbHRlck1hdGVyaWFsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZUJsb29tID0gYmxvb20uZW5hYmxlZCAmJiBoYXNWYWxpZE1hdGVyaWFsO1xyXG5cclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSkge1xyXG4gICAgICAgICAgICArK2NhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHdpbmRvd1Jlc2l6ZShcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEJsb29tUGFzc0NvbmZpZ3MsXHJcbiAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3cpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBzZXR0aW5nczogeyBibG9vbSB9IH0gPSBjYW1lcmFDb25maWdzO1xyXG4gICAgICAgIGNvbnN0IGlkID0gd2luZG93LnJlbmRlcldpbmRvd0lkO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQ7XHJcblxyXG4gICAgICAgIGlmIChibG9vbS50eXBlID09PSBCbG9vbVR5cGUuS2F3YXNlRHVhbEZpbHRlcikge1xyXG4gICAgICAgICAgICBsZXQgYmxvb21XaWR0aCA9IGNhbWVyYUNvbmZpZ3Mud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBibG9vbUhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuaGVpZ2h0O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYmxvb20uaXRlcmF0aW9ucyArIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgYmxvb21XaWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYmxvb21XaWR0aCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJsb29tSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihibG9vbUhlaWdodCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYEJsb29tVGV4JHtpZH1fJHtpfWAsIGZvcm1hdCwgYmxvb21XaWR0aCwgYmxvb21IZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChibG9vbS50eXBlID09PSBCbG9vbVR5cGUuTWlwbWFwRmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSBibG9vbS5pdGVyYXRpb25zO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaXRlcmF0aW9ucyArIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRG93blNhbXBsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBpdGVyYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygwLjUsIGkgKyAyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9vbURvd25TYW1wbGVUZXhEZXNjc1tpXSA9IHRoaXMuY3JlYXRlVGV4dHVyZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHBsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgRG93blNhbXBsZUNvbG9yJHtpZH0ke2l9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93blNpemUod2lkdGgsIHNjYWxlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93blNpemUoaGVpZ2h0LCBzY2FsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBVcFNhbXBsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBpdGVyYXRpb25zIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMC41LCBpdGVyYXRpb25zIC0gaSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb29tVXBTYW1wbGVUZXhEZXNjc1tpXSA9IHRoaXMuY3JlYXRlVGV4dHVyZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHBsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgVXBTYW1wbGVDb2xvciR7aWR9JHtpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25TaXplKHdpZHRoLCBzY2FsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25TaXplKGhlaWdodCwgc2NhbGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsQ29sb3JEZXNjID0gdGhpcy5jcmVhdGVUZXh0dXJlKHBwbCwgYE9yaWdpbmFsQ29sb3Ike2lkfWAsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZWZpbHRlclRleERlc2MgPSB0aGlzLmNyZWF0ZVRleHR1cmUocHBsLCBgUHJlZmlsdGVyQ29sb3Ike2lkfWAsXHJcbiAgICAgICAgICAgICAgICBkb3duU2l6ZSh3aWR0aCwgMC41KSwgZG93blNpemUoaGVpZ2h0LCAwLjUpLCBmb3JtYXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgY3JlYXRlVGV4dHVyZShcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIG5hbWU6IHN0cmluZywgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGZvcm1hdDogbnVtYmVyKTogUmVuZGVyVGV4dHVyZURlc2Mge1xyXG4gICAgICAgIGNvbnN0IGRlc2MgPSB7IG5hbWUsIHdpZHRoLCBoZWlnaHQgfTtcclxuICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGRlc2MubmFtZSwgZm9ybWF0LCBkZXNjLndpZHRoLCBkZXNjLmhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGRlc2M7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXAoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBCbG9vbVBhc3NDb25maWdzLFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcclxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxyXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJldlJlbmRlclBhc3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAtLWNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xyXG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmxvb20gPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLmJsb29tO1xyXG4gICAgICAgIGNvbnN0IGlkID0gY2FtZXJhLndpbmRvdy5yZW5kZXJXaW5kb3dJZDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChibG9vbS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQmxvb21UeXBlLkthd2FzZUR1YWxGaWx0ZXI6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gYmxvb20ua2F3YXNlRmlsdGVyTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQoISFtYXRlcmlhbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkS2F3YXNlRHVhbEZpbHRlckJsb29tUGFzc2VzKFxyXG4gICAgICAgICAgICAgICAgICAgIHBwbCwgcHBsQ29uZmlncyxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBCbG9vbVR5cGUuTWlwbWFwRmlsdGVyOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IGJsb29tLm1pcG1hcEZpbHRlck1hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhbWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZE1pcG1hcEZpbHRlckJsb29tUGFzc2VzKFxyXG4gICAgICAgICAgICAgICAgICAgIHBwbCwgcHBsQ29uZmlncyxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRLYXdhc2VEdWFsRmlsdGVyQmxvb21QYXNzZXMoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBSZWFkb25seTxCbG9vbVBhc3NDb25maWdzPixcclxuICAgICAgICBzZXR0aW5nczogUGlwZWxpbmVTZXR0aW5ncyxcclxuICAgICAgICBibG9vbU1hdGVyaWFsOiBNYXRlcmlhbCxcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXHJcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XHJcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcclxuICAgICAgICAvLyBCYXNlZCBvbiBLYXdhc2UgRHVhbCBGaWx0ZXIgQmx1ci4gU2F2ZXMgYmFuZHdpZHRoIG9uIG1vYmlsZSBkZXZpY2VzLlxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9jb21tdW5pdHkuYXJtLmNvbS9jZnMtZmlsZS9fX2tleS9jb21tdW5pdHlzZXJ2ZXItYmxvZ3MtY29tcG9uZW50cy13ZWJsb2dmaWxlcy8wMC0wMC0wMC0yMC02Ni9zaWdncmFwaDIwMTVfMkQwMF9tbWdfMkQwMF9tYXJpdXNfMkQwMF9zbGlkZXMucGRmXHJcblxyXG4gICAgICAgIC8vIFNpemU6IFtwcmVmaWx0ZXIoMS8yKSwgZG93bnNhbXBsZSgxLzQpLCBkb3duc2FtcGxlKDEvOCksIGRvd25zYW1wbGUoMS8xNiksIC4uLl1cclxuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucztcclxuICAgICAgICBjb25zdCBzaXplQ291bnQgPSBpdGVyYXRpb25zICsgMTtcclxuICAgICAgICB0aGlzLl9ibG9vbVdpZHRocy5sZW5ndGggPSBzaXplQ291bnQ7XHJcbiAgICAgICAgdGhpcy5fYmxvb21IZWlnaHRzLmxlbmd0aCA9IHNpemVDb3VudDtcclxuICAgICAgICB0aGlzLl9ibG9vbVdpZHRoc1swXSA9IE1hdGgubWF4KE1hdGguZmxvb3Iod2lkdGggLyAyKSwgMSk7XHJcbiAgICAgICAgdGhpcy5fYmxvb21IZWlnaHRzWzBdID0gTWF0aC5tYXgoTWF0aC5mbG9vcihoZWlnaHQgLyAyKSwgMSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgIT09IHNpemVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tV2lkdGhzW2ldID0gTWF0aC5tYXgoTWF0aC5mbG9vcih0aGlzLl9ibG9vbVdpZHRoc1tpIC0gMV0gLyAyKSwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tSGVpZ2h0c1tpXSA9IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fYmxvb21IZWlnaHRzW2kgLSAxXSAvIDIpLCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJsb29tIHRleHR1cmUgbmFtZXNcclxuICAgICAgICB0aGlzLl9ibG9vbVRleE5hbWVzLmxlbmd0aCA9IHNpemVDb3VudDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2l6ZUNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhOYW1lc1tpXSA9IGBCbG9vbVRleCR7aWR9XyR7aX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0dXAgYmxvb20gcGFyYW1ldGVyc1xyXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnggPSBwcGxDb25maWdzLnVzZUZsb2F0T3V0cHV0ID8gMSA6IDA7XHJcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMueSA9IDA7IC8vIHVudXNlZFxyXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnogPSBzZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQ7XHJcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMudyA9IHNldHRpbmdzLmJsb29tLmVuYWJsZUFscGhhTWFzayA/IDEgOiAwO1xyXG5cclxuICAgICAgICAvLyBQcmVmaWx0ZXIgcGFzc1xyXG4gICAgICAgIGNvbnN0IHByZWZpbHRlclBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1swXSwgdGhpcy5fYmxvb21IZWlnaHRzWzBdLCAnY2MtYmxvb20tcHJlZmlsdGVyJyk7XHJcbiAgICAgICAgcHJlZmlsdGVyUGFzcy5hZGRSZW5kZXJUYXJnZXQoXHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXNbMF0sXHJcbiAgICAgICAgICAgIExvYWRPcC5DTEVBUixcclxuICAgICAgICAgICAgU3RvcmVPcC5TVE9SRSxcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2ssXHJcbiAgICAgICAgKTtcclxuICAgICAgICBwcmVmaWx0ZXJQYXNzLmFkZFRleHR1cmUocmFkaWFuY2VOYW1lLCAnaW5wdXRUZXh0dXJlJyk7XHJcbiAgICAgICAgcHJlZmlsdGVyUGFzcy5zZXRWZWM0KCdibG9vbVBhcmFtcycsIHRoaXMuX2Jsb29tUGFyYW1zKTtcclxuICAgICAgICBwcmVmaWx0ZXJQYXNzXHJcbiAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMCk7XHJcblxyXG4gICAgICAgIC8vIERvd25zYW1wbGUgcGFzc2VzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgIT09IHNpemVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvd25QYXNzID0gcHBsLmFkZFJlbmRlclBhc3ModGhpcy5fYmxvb21XaWR0aHNbaV0sIHRoaXMuX2Jsb29tSGVpZ2h0c1tpXSwgJ2NjLWJsb29tLWRvd25zYW1wbGUnKTtcclxuICAgICAgICAgICAgZG93blBhc3MuYWRkUmVuZGVyVGFyZ2V0KHRoaXMuX2Jsb29tVGV4TmFtZXNbaV0sIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgICAgICBkb3duUGFzcy5hZGRUZXh0dXJlKHRoaXMuX2Jsb29tVGV4TmFtZXNbaSAtIDFdLCAnYmxvb21UZXh0dXJlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS54ID0gdGhpcy5fYmxvb21XaWR0aHNbaSAtIDFdO1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpIC0gMV07XHJcbiAgICAgICAgICAgIGRvd25QYXNzLnNldFZlYzQoJ2Jsb29tVGV4U2l6ZScsIHRoaXMuX2Jsb29tVGV4U2l6ZSk7XHJcbiAgICAgICAgICAgIGRvd25QYXNzXHJcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChibG9vbU1hdGVyaWFsLCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwc2FtcGxlIHBhc3Nlc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBpdGVyYXRpb25zOyBpLS0gPiAwOykge1xyXG4gICAgICAgICAgICBjb25zdCB1cFBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tdXBzYW1wbGUnKTtcclxuICAgICAgICAgICAgdXBQYXNzLmFkZFJlbmRlclRhcmdldCh0aGlzLl9ibG9vbVRleE5hbWVzW2ldLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgdXBQYXNzLmFkZFRleHR1cmUodGhpcy5fYmxvb21UZXhOYW1lc1tpICsgMV0sICdibG9vbVRleHR1cmUnKTtcclxuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpICsgMV07XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS55ID0gdGhpcy5fYmxvb21IZWlnaHRzW2kgKyAxXTtcclxuICAgICAgICAgICAgdXBQYXNzLnNldFZlYzQoJ2Jsb29tVGV4U2l6ZScsIHRoaXMuX2Jsb29tVGV4U2l6ZSk7XHJcbiAgICAgICAgICAgIHVwUGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb21iaW5lIHBhc3NcclxuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy53ID0gc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5O1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmVQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2NjLWJsb29tLWNvbWJpbmUnKTtcclxuICAgICAgICBjb21iaW5lUGFzcy5hZGRSZW5kZXJUYXJnZXQocmFkaWFuY2VOYW1lLCBMb2FkT3AuTE9BRCwgU3RvcmVPcC5TVE9SRSk7XHJcbiAgICAgICAgY29tYmluZVBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzWzBdLCAnYmxvb21UZXh0dXJlJyk7XHJcbiAgICAgICAgY29tYmluZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XHJcbiAgICAgICAgY29tYmluZVBhc3NcclxuICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORClcclxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGJsb29tTWF0ZXJpYWwsIDMpO1xyXG5cclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFkZENvcHlUb1NjcmVlblBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLCByYWRpYW5jZU5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lUGFzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRQYXNzKFxyXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBsYXlvdXQ6IHN0cmluZyxcclxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICBtYXRlcmlhbDogTWF0ZXJpYWwsXHJcbiAgICAgICAgcGFzc0luZGV4OiBudW1iZXIsXHJcbiAgICAgICAgbG9hZE9wOiBnZnguTG9hZE9wID0gTG9hZE9wLkNMRUFSLFxyXG4gICAgICAgIGNsZWFyQ29sb3I6IGdmeC5Db2xvciA9IHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayxcclxuICAgICAgICBxdWV1ZUhpbnQ6IHJlbmRlcmluZy5RdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcclxuICAgICAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgbGF5b3V0KTtcclxuICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIGxvYWRPcCwgU3RvcmVPcC5TVE9SRSwgY2xlYXJDb2xvcik7XHJcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShxdWV1ZUhpbnQpXHJcbiAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChtYXRlcmlhbCwgcGFzc0luZGV4KTtcclxuICAgICAgICByZXR1cm4gcGFzcztcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2FkZE1pcG1hcEZpbHRlckJsb29tUGFzc2VzKFxyXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgUmVhZG9ubHk8Qmxvb21QYXNzQ29uZmlncz4sXHJcbiAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICAgICAgYmxvb21NYXRlcmlhbDogTWF0ZXJpYWwsXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgIHJhZGlhbmNlTmFtZTogc3RyaW5nLFxyXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgIC8vIFNldHVwIGJsb29tIHBhcmFtZXRlcnNcclxuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy54ID0gcHBsQ29uZmlncy51c2VGbG9hdE91dHB1dCA/IDEgOiAwO1xyXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnggPSAwOyAvLyB1bnVzZWRcclxuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy56ID0gc2V0dGluZ3MuYmxvb20udGhyZXNob2xkO1xyXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLncgPSBzZXR0aW5ncy5ibG9vbS5pbnRlbnNpdHk7XHJcbiAgICAgICAgY29uc3QgcHJlZmlsdGVySW5mbyA9IHRoaXMuX3ByZWZpbHRlclRleERlc2M7XHJcblxyXG4gICAgICAgIC8vIFByZWZpbHRlciBwYXNzXHJcbiAgICAgICAgbGV0IGN1cnJTYW1wbGVQYXNzID0gdGhpcy5fYWRkUGFzcyhcclxuICAgICAgICAgICAgcHBsLFxyXG4gICAgICAgICAgICBwcmVmaWx0ZXJJbmZvLndpZHRoLFxyXG4gICAgICAgICAgICBwcmVmaWx0ZXJJbmZvLmhlaWdodCxcclxuICAgICAgICAgICAgJ2NjLWJsb29tLW1pcG1hcC1wcmVmaWx0ZXInLFxyXG4gICAgICAgICAgICBwcmVmaWx0ZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgICAgIGJsb29tTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIDAsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXJyU2FtcGxlUGFzcy5hZGRUZXh0dXJlKHJhZGlhbmNlTmFtZSwgJ21haW5UZXh0dXJlJyk7XHJcbiAgICAgICAgY3VyclNhbXBsZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRvd25TYW1wbGVJbmZvcyA9IHRoaXMuX2Jsb29tRG93blNhbXBsZVRleERlc2NzO1xyXG4gICAgICAgIC8vIERvd25zYW1wbGUgcGFzc2VzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb3duU2FtcGxlSW5mb3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyckluZm8gPSBkb3duU2FtcGxlSW5mb3NbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZXJTcmMgPSBpID09PSAwID8gcHJlZmlsdGVySW5mbyA6IGRvd25TYW1wbGVJbmZvc1tpIC0gMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZXJTcmNOYW1lID0gc2FtcGxlclNyYy5uYW1lO1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueCA9IDEgLyBzYW1wbGVyU3JjLndpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IDEgLyBzYW1wbGVyU3JjLmhlaWdodDtcclxuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3MgPSB0aGlzLl9hZGRQYXNzKFxyXG4gICAgICAgICAgICAgICAgcHBsLFxyXG4gICAgICAgICAgICAgICAgY3VyckluZm8ud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBjdXJySW5mby5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAnY2MtYmxvb20tbWlwbWFwLWRvd25zYW1wbGUnLFxyXG4gICAgICAgICAgICAgICAgY3VyckluZm8ubmFtZSxcclxuICAgICAgICAgICAgICAgIGJsb29tTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAxLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjdXJyU2FtcGxlUGFzcy5hZGRUZXh0dXJlKHNhbXBsZXJTcmNOYW1lLCAnbWFpblRleHR1cmUnKTtcclxuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVRleFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBkb3duU2FtcGxlSW5mb3MubGVuZ3RoIC0gMTtcclxuICAgICAgICBjb25zdCB1cFNhbXBsZUluZm9zID0gdGhpcy5fYmxvb21VcFNhbXBsZVRleERlc2NzO1xyXG4gICAgICAgIC8vIFVwc2FtcGxlIHBhc3Nlc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBTYW1wbGVJbmZvcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJySW5mbyA9IHVwU2FtcGxlSW5mb3NbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVNyYyA9IGkgPT09IDAgPyBkb3duU2FtcGxlSW5mb3NbbGFzdEluZGV4XSA6IHVwU2FtcGxlSW5mb3NbaSAtIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBzYW1wbGVTcmNOYW1lID0gc2FtcGxlU3JjLm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS54ID0gMSAvIHNhbXBsZVNyYy53aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnkgPSAxIC8gc2FtcGxlU3JjLmhlaWdodDtcclxuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3MgPSB0aGlzLl9hZGRQYXNzKFxyXG4gICAgICAgICAgICAgICAgcHBsLFxyXG4gICAgICAgICAgICAgICAgY3VyckluZm8ud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBjdXJySW5mby5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAnY2MtYmxvb20tbWlwbWFwLXVwc2FtcGxlJyxcclxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBibG9vbU1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3MuYWRkVGV4dHVyZShzYW1wbGVTcmNOYW1lLCAnbWFpblRleHR1cmUnKTtcclxuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3MuYWRkVGV4dHVyZShkb3duU2FtcGxlSW5mb3NbbGFzdEluZGV4IC0gMSAtIGldLm5hbWUsICdkb3duc2FtcGxlVGV4dHVyZScpO1xyXG4gICAgICAgICAgICBjdXJyU2FtcGxlUGFzcy5zZXRWZWM0KCdibG9vbVBhcmFtcycsIHRoaXMuX2Jsb29tVGV4U2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb21iaW5lIHBhc3NcclxuICAgICAgICBjb25zdCBjb21iaW5lUGFzcyA9IHRoaXMuX2FkZFBhc3MoXHJcbiAgICAgICAgICAgIHBwbCxcclxuICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgJ2NjLWJsb29tLW1pcG1hcC1jb21iaW5lJyxcclxuICAgICAgICAgICAgcmFkaWFuY2VOYW1lLFxyXG4gICAgICAgICAgICBibG9vbU1hdGVyaWFsLFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICBMb2FkT3AuTE9BRCxcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbWJpbmVQYXNzLmFkZFRleHR1cmUodXBTYW1wbGVJbmZvc1t1cFNhbXBsZUluZm9zLmxlbmd0aCAtIDFdLm5hbWUsICdibG9vbVRleHR1cmUnKTtcclxuICAgICAgICBjb21iaW5lUGFzcy5zZXRWZWM0KCdibG9vbVBhcmFtcycsIHRoaXMuX2Jsb29tUGFyYW1zKTtcclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFkZENvcHlUb1NjcmVlblBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLCByYWRpYW5jZU5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lUGFzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQmxvb21cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrID0gbmV3IENvbG9yKDAsIDAsIDAsIDApO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21QYXJhbXMgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tVGV4U2l6ZSA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21XaWR0aHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tSGVpZ2h0czogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21UZXhOYW1lczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cclxuICAgIC8vIE1pcG1hcCBCbG9vbVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21VcFNhbXBsZVRleERlc2NzOiBBcnJheTxSZW5kZXJUZXh0dXJlRGVzYz4gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tRG93blNhbXBsZVRleERlc2NzOiBBcnJheTxSZW5kZXJUZXh0dXJlRGVzYz4gPSBbXTtcclxuICAgIHByaXZhdGUgX3ByZWZpbHRlclRleERlc2M6IFJlbmRlclRleHR1cmVEZXNjID0geyBuYW1lOiAnJywgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xyXG4gICAgcHJpdmF0ZSBfb3JpZ2luYWxDb2xvckRlc2M6IFJlbmRlclRleHR1cmVEZXNjID0geyBuYW1lOiAnJywgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3Mge1xyXG4gICAgZW5hYmxlVG9uZU1hcHBpbmc6IGJvb2xlYW47XHJcbiAgICBlbmFibGVDb2xvckdyYWRpbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCdWlsdGluVG9uZU1hcHBpbmdQYXNzQnVpbGRlciBpbXBsZW1lbnRzIHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyIHtcclxuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAzMDA7XHJcbiAgICB9XHJcbiAgICBjb25maWdDYW1lcmEoXHJcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxyXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3MpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nXHJcbiAgICAgICAgICAgID0gc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWRcclxuICAgICAgICAgICAgJiYgISFzZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWxcclxuICAgICAgICAgICAgJiYgISFzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwO1xyXG5cclxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVRvbmVNYXBwaW5nXHJcbiAgICAgICAgICAgID0gY2FtZXJhQ29uZmlncy5lbmFibGVIRFIgLy8gRnJvbSBIYWxmIHRvIFJHQkE4XHJcbiAgICAgICAgICAgIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nOyAvLyBDb2xvciBncmFkaW5nXHJcblxyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVRvbmVNYXBwaW5nKSB7XHJcbiAgICAgICAgICAgICsrY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2luZG93UmVzaXplKFxyXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZykge1xyXG4gICAgICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgICAgICAgJ2NvbG9yR3JhZGluZ01hcCcsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldHVwKFxyXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyxcclxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXHJcbiAgICAgICAgcHJldlJlbmRlclBhc3M/OiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcilcclxuICAgICAgICA6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlVG9uZU1hcHBpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLS1jYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcclxuICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPj0gMCk7XHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCwgY2FtZXJhQ29uZmlncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSwgY2FtZXJhQ29uZmlncy5jb2xvck5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZDtcclxuICAgICAgICAgICAgY29uc3QgbGRyQ29sb3JQcmVmaXggPSBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxyXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkTGRyQ29sb3JgXHJcbiAgICAgICAgICAgICAgICA6IGBMZHJDb2xvcmA7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsZHJDb2xvck5hbWUgPSBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChjb250ZXh0LmNvbG9yTmFtZSwgbGRyQ29sb3JQcmVmaXgsIGlkKTtcclxuICAgICAgICAgICAgY29uc3QgcmFkaWFuY2VOYW1lID0gY29udGV4dC5jb2xvck5hbWU7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY29sb3JOYW1lID0gbGRyQ29sb3JOYW1lO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvcHlBbmRUb25lbWFwUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLCBjYW1lcmFDb25maWdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHJhZGlhbmNlTmFtZSwgbGRyQ29sb3JOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRDb3B5QW5kVG9uZW1hcFBhc3MoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBUb25lTWFwcGluZ1Bhc3NDb25maWdzLFxyXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XHJcbiAgICAgICAgbGV0IHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncztcclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVDb2xvckdyYWRpbmcpIHtcclxuICAgICAgICAgICAgYXNzZXJ0KCEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsKTtcclxuICAgICAgICAgICAgYXNzZXJ0KCEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsdXRUZXggPSBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplLnggPSBsdXRUZXgud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yR3JhZGluZ1RleFNpemUueSA9IGx1dFRleC5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc1NxdWFyZU1hcCA9IGx1dFRleC53aWR0aCA9PT0gbHV0VGV4LmhlaWdodDtcclxuICAgICAgICAgICAgaWYgKGlzU3F1YXJlTWFwKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2NjLWNvbG9yLWdyYWRpbmctOHg4Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2NjLWNvbG9yLWdyYWRpbmctbngxJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShyYWRpYW5jZU5hbWUsICdzY2VuZUNvbG9yTWFwJyk7XHJcbiAgICAgICAgICAgIHBhc3Muc2V0VmVjMignbHV0VGV4dHVyZVNpemUnLCB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplKTtcclxuICAgICAgICAgICAgcGFzcy5zZXRGbG9hdCgnY29udHJpYnV0ZScsIHNldHRpbmdzLmNvbG9yR3JhZGluZy5jb250cmlidXRlKTtcclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChzZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwsIGlzU3F1YXJlTWFwID8gMSA6IDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtdG9uZS1tYXBwaW5nJyk7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUocmFkaWFuY2VOYW1lLCAnaW5wdXRUZXh0dXJlJyk7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy50b25lTWFwcGluZy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoc2V0dGluZ3MudG9uZU1hcHBpbmcubWF0ZXJpYWwsIDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsKTtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGNhbWVyYUNvbmZpZ3MuY29weUFuZFRvbmVtYXBNYXRlcmlhbCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhc3M7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2xvckdyYWRpbmdUZXhTaXplID0gbmV3IFZlYzIoMCwgMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRlhBQVBhc3NDb25maWdzIHtcclxuICAgIGVuYWJsZUZYQUE6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCdWlsdGluRlhBQVBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xyXG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDQwMDtcclxuICAgIH1cclxuICAgIGNvbmZpZ0NhbWVyYShcclxuICAgICAgICBjYW1lcmE6IFJlYWRvbmx5PHJlbmRlcmVyLnNjZW5lLkNhbWVyYT4sXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRlhBQVBhc3NDb25maWdzKTogdm9pZCB7XHJcbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVGWEFBXHJcbiAgICAgICAgICAgID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLmVuYWJsZWRcclxuICAgICAgICAgICAgJiYgISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEubWF0ZXJpYWw7XHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQSkge1xyXG4gICAgICAgICAgICArK2NhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldHVwKFxyXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRlhBQVBhc3NDb25maWdzLFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcclxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxyXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVGWEFBKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcclxuICAgICAgICB9XHJcbiAgICAgICAgLS1jYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcclxuICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPj0gMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZDtcclxuICAgICAgICBjb25zdCBsZHJDb2xvclByZWZpeCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgID8gYFNjYWxlZExkckNvbG9yYFxyXG4gICAgICAgICAgICA6IGBMZHJDb2xvcmA7XHJcbiAgICAgICAgY29uc3QgbGRyQ29sb3JOYW1lID0gZ2V0UGluZ1BvbmdSZW5kZXJUYXJnZXQoY29udGV4dC5jb2xvck5hbWUsIGxkckNvbG9yUHJlZml4LCBpZCk7XHJcblxyXG4gICAgICAgIGFzc2VydCghIWNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCk7XHJcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkRnhhYVBhc3MocHBsLCBwcGxDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29sb3JOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGxkckNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkQ29weVRvU2NyZWVuUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsIGxkckNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy53aWR0aCA9PT0gY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy5oZWlnaHQgPT09IGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRGeGFhUGFzcyhwcGwsIHBwbENvbmZpZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5jb2xvck5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXRDb2xvck5hbWUgPSBjb250ZXh0LmNvbG9yTmFtZTtcclxuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUgPSBsZHJDb2xvck5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQYXNzID0gdGhpcy5fYWRkRnhhYVBhc3MocHBsLCBwcGxDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgaW5wdXRDb2xvck5hbWUsXHJcbiAgICAgICAgICAgICAgICBsZHJDb2xvck5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGFzdFBhc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfYWRkRnhhYVBhc3MoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGZ4YWFNYXRlcmlhbDogTWF0ZXJpYWwsXHJcbiAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBsZHJDb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcclxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcclxuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnkgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fZnhhYVBhcmFtcy56ID0gMSAvIHdpZHRoO1xyXG4gICAgICAgIHRoaXMuX2Z4YWFQYXJhbXMudyA9IDEgLyBoZWlnaHQ7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtZnhhYScpO1xyXG4gICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgIHBhc3MuYWRkVGV4dHVyZShsZHJDb2xvck5hbWUsICdzY2VuZUNvbG9yTWFwJyk7XHJcbiAgICAgICAgcGFzcy5zZXRWZWM0KCd0ZXhTaXplJywgdGhpcy5fZnhhYVBhcmFtcyk7XHJcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGZ4YWFNYXRlcmlhbCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIHBhc3M7XHJcbiAgICB9XHJcbiAgICAvLyBGWEFBXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9meGFhUGFyYW1zID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRlNSUGFzc0NvbmZpZ3Mge1xyXG4gICAgZW5hYmxlRlNSOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnVpbHRpbkZzclBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xyXG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDUwMDtcclxuICAgIH1cclxuICAgIGNvbmZpZ0NhbWVyYShcclxuICAgICAgICBjYW1lcmE6IFJlYWRvbmx5PHJlbmRlcmVyLnNjZW5lLkNhbWVyYT4sXHJcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcclxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRlNSUGFzc0NvbmZpZ3MpOiB2b2lkIHtcclxuICAgICAgICAvLyBGU1IgKERlcGVuZCBvbiBTaGFkaW5nIHNjYWxlKVxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlNSID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5mc3IuZW5hYmxlZFxyXG4gICAgICAgICAgICAmJiAhIWNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLm1hdGVyaWFsXHJcbiAgICAgICAgICAgICYmIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICYmIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlIDwgMS4wO1xyXG5cclxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVGU1IpIHtcclxuICAgICAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXR1cChcclxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZTUlBhc3NDb25maWdzLFxyXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcclxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxyXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVGU1IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAtLWNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dENvbG9yTmFtZSA9IGNvbnRleHQuY29sb3JOYW1lO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dENvbG9yTmFtZVxyXG4gICAgICAgICAgICA9IGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwXHJcbiAgICAgICAgICAgICAgICA/IGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lXHJcbiAgICAgICAgICAgICAgICA6IGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KGNvbnRleHQuY29sb3JOYW1lLCAnVWlDb2xvcicsIGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQpO1xyXG4gICAgICAgIGNvbnRleHQuY29sb3JOYW1lID0gb3V0cHV0Q29sb3JOYW1lO1xyXG5cclxuICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZzci5tYXRlcmlhbCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZzclBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLmZzci5tYXRlcmlhbCxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZCxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5oZWlnaHQsXHJcbiAgICAgICAgICAgIGlucHV0Q29sb3JOYW1lLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodCxcclxuICAgICAgICAgICAgb3V0cHV0Q29sb3JOYW1lKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2FkZEZzclBhc3MoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyxcclxuICAgICAgICBzZXR0aW5nczogUGlwZWxpbmVTZXR0aW5ncyxcclxuICAgICAgICBmc3JNYXRlcmlhbDogTWF0ZXJpYWwsXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgIGlucHV0Q29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgbmF0aXZlV2lkdGg6IG51bWJlcixcclxuICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBvdXRwdXRDb2xvck5hbWU6IHN0cmluZyxcclxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcclxuICAgICAgICB0aGlzLl9mc3JUZXhTaXplLnggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLl9mc3JUZXhTaXplLnkgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS56ID0gbmF0aXZlV2lkdGg7XHJcbiAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS53ID0gbmF0aXZlSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2ZzclBhcmFtcy54ID0gY2xhbXAoMS4wIC0gc2V0dGluZ3MuZnNyLnNoYXJwbmVzcywgMC4wMiwgMC45OCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVpQ29sb3JQcmVmaXggPSAnVWlDb2xvcic7XHJcblxyXG4gICAgICAgIGNvbnN0IGZzckNvbG9yTmFtZSA9IGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KG91dHB1dENvbG9yTmFtZSwgdWlDb2xvclByZWZpeCwgaWQpO1xyXG5cclxuICAgICAgICBjb25zdCBlYXN1UGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKG5hdGl2ZVdpZHRoLCBuYXRpdmVIZWlnaHQsICdjYy1mc3ItZWFzdScpO1xyXG4gICAgICAgIGVhc3VQYXNzLmFkZFJlbmRlclRhcmdldChmc3JDb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICBlYXN1UGFzcy5hZGRUZXh0dXJlKGlucHV0Q29sb3JOYW1lLCAnb3V0cHV0UmVzdWx0TWFwJyk7XHJcbiAgICAgICAgZWFzdVBhc3Muc2V0VmVjNCgnZnNyVGV4U2l6ZScsIHRoaXMuX2ZzclRleFNpemUpO1xyXG4gICAgICAgIGVhc3VQYXNzXHJcbiAgICAgICAgICAgIC5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGZzck1hdGVyaWFsLCAwKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmNhc1Bhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCAnY2MtZnNyLXJjYXMnKTtcclxuICAgICAgICByY2FzUGFzcy5hZGRSZW5kZXJUYXJnZXQob3V0cHV0Q29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgcmNhc1Bhc3MuYWRkVGV4dHVyZShmc3JDb2xvck5hbWUsICdvdXRwdXRSZXN1bHRNYXAnKTtcclxuICAgICAgICByY2FzUGFzcy5zZXRWZWM0KCdmc3JUZXhTaXplJywgdGhpcy5fZnNyVGV4U2l6ZSk7XHJcbiAgICAgICAgcmNhc1Bhc3Muc2V0VmVjNCgnZnNyUGFyYW1zJywgdGhpcy5fZnNyUGFyYW1zKTtcclxuICAgICAgICByY2FzUGFzc1xyXG4gICAgICAgICAgICAuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChmc3JNYXRlcmlhbCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiByY2FzUGFzcztcclxuICAgIH1cclxuICAgIC8vIEZTUlxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZnNyUGFyYW1zID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mc3JUZXhTaXplID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCdWlsdGluVWlQYXNzQnVpbGRlciBpbXBsZW1lbnRzIHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyIHtcclxuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAxMDAwO1xyXG4gICAgfVxyXG4gICAgc2V0dXAoXHJcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyxcclxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXHJcbiAgICAgICAgcHJldlJlbmRlclBhc3M/OiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcilcclxuICAgICAgICA6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBhc3NlcnQoISFwcmV2UmVuZGVyUGFzcyk7XHJcblxyXG4gICAgICAgIGxldCBmbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzLlVJO1xyXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyKSB7XHJcbiAgICAgICAgICAgIGZsYWdzIHw9IHJlbmRlcmluZy5TY2VuZUZsYWdzLlBST0ZJTEVSO1xyXG4gICAgICAgICAgICBwcmV2UmVuZGVyUGFzcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZSZW5kZXJQYXNzXHJcbiAgICAgICAgICAgIC5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50LkJMRU5ELCAnZGVmYXVsdCcsICdkZWZhdWx0JylcclxuICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgZmxhZ3MpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJldlJlbmRlclBhc3M7XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmIChyZW5kZXJpbmcpIHtcclxuXHJcbiAgICBjb25zdCB7IFF1ZXVlSGludCwgU2NlbmVGbGFncyB9ID0gcmVuZGVyaW5nO1xyXG5cclxuICAgIGNsYXNzIEJ1aWx0aW5QaXBlbGluZUJ1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVCdWlsZGVyIHtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9waXBlbGluZUV2ZW50OiBQaXBlbGluZUV2ZW50UHJvY2Vzc29yID0gY2NsZWdhY3kuZGlyZWN0b3Iucm9vdC5waXBlbGluZUV2ZW50IGFzIFBpcGVsaW5lRXZlbnRQcm9jZXNzb3I7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfZm9yd2FyZFBhc3MgPSBuZXcgQnVpbHRpbkZvcndhcmRQYXNzQnVpbGRlcigpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tUGFzcyA9IG5ldyBCdWlsdGluQmxvb21QYXNzQnVpbGRlcigpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3RvbmVNYXBwaW5nUGFzcyA9IG5ldyBCdWlsdGluVG9uZU1hcHBpbmdQYXNzQnVpbGRlcigpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Z4YWFQYXNzID0gbmV3IEJ1aWx0aW5GWEFBUGFzc0J1aWxkZXIoKTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9mc3JQYXNzID0gbmV3IEJ1aWx0aW5Gc3JQYXNzQnVpbGRlcigpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3VpUGFzcyA9IG5ldyBCdWlsdGluVWlQYXNzQnVpbGRlcigpO1xyXG4gICAgICAgIC8vIEludGVybmFsIGNhY2hlZCByZXNvdXJjZXNcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jbGVhckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDAsIDEpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3ZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfY29uZmlncyA9IG5ldyBQaXBlbGluZUNvbmZpZ3MoKTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jYW1lcmFDb25maWdzID0gbmV3IENhbWVyYUNvbmZpZ3MoKTtcclxuICAgICAgICAvLyBNYXRlcmlhbHNcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCk7XHJcblxyXG4gICAgICAgIC8vIEludGVybmFsIFN0YXRlc1xyXG4gICAgICAgIHByaXZhdGUgX2luaXRpYWxpemVkID0gZmFsc2U7IC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IE1ha2UgZGVmYXVsdCBlZmZlY3QgYXNzZXQgbG9hZGluZyBlYXJsaWVyIGFuZCByZW1vdmUgdGhpcyBmbGFnXHJcbiAgICAgICAgcHJpdmF0ZSBfcGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdID0gW107XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3NldHVwUGlwZWxpbmVQcmV2aWV3KFxyXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncykge1xyXG4gICAgICAgICAgICBjb25zdCBpc0VkaXRvclZpZXc6IGJvb2xlYW5cclxuICAgICAgICAgICAgICAgID0gY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5TQ0VORV9WSUVXXHJcbiAgICAgICAgICAgICAgICB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlBSRVZJRVc7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNFZGl0b3JWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3JTZXR0aW5ncyA9IHJlbmRlcmluZy5nZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKCkgYXMgUGlwZWxpbmVTZXR0aW5ncyB8IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gZWRpdG9yU2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MgPSBkZWZhdWx0U2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MgYXMgUGlwZWxpbmVTZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncyA9IGRlZmF1bHRTZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfcHJlcGFyZVBpcGVsaW5lUGFzc2VzKGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgcGFzc0J1aWxkZXJzID0gdGhpcy5fcGFzc0J1aWxkZXJzO1xyXG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncyBhcyBQaXBlbGluZVNldHRpbmdzMjtcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLl9wYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFzcyBvZiBzZXR0aW5ncy5fcGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2gocGFzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQocGFzc0J1aWxkZXJzLmxlbmd0aCA9PT0gc2V0dGluZ3MuX3Bhc3Nlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl9mb3J3YXJkUGFzcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYmxvb20uZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fYmxvb21QYXNzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fdG9uZU1hcHBpbmdQYXNzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5meGFhLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHRoaXMuX2Z4YWFQYXNzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmZzci5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl9mc3JQYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl91aVBhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfc2V0dXBCdWlsdGluQ2FtZXJhQ29uZmlncyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIHBpcGVsaW5lQ29uZmlnczogUGlwZWxpbmVDb25maWdzLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbmRvdyA9IGNhbWVyYS53aW5kb3c7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTWFpbkdhbWVXaW5kb3c6IGJvb2xlYW4gPSBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLkdBTUUgJiYgISF3aW5kb3cuc3dhcGNoYWluO1xyXG4gICAgICAgICAgICBjb25zdCBpc0dhbWVWaWV3ID0gaXNNYWluR2FtZVdpbmRvdyB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLkdBTUVfVklFVztcclxuXHJcbiAgICAgICAgICAgIC8vIFdpbmRvd1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmlzTWFpbkdhbWVXaW5kb3cgPSBpc01haW5HYW1lV2luZG93O1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnJlbmRlcldpbmRvd0lkID0gd2luZG93LnJlbmRlcldpbmRvd0lkO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FtZXJhXHJcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lID0gd2luZG93LmNvbG9yTmFtZTtcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lID0gd2luZG93LmRlcHRoU3RlbmNpbE5hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBQaXBlbGluZVxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZSA9IChjYW1lcmEudmlzaWJpbGl0eSAmIChMYXllcnMuRW51bS5ERUZBVUxUKSkgIT09IDA7XHJcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlUHJvZmlsZXIgPSBwcGwucHJvZmlsZXIgJiYgaXNHYW1lVmlldztcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gU2hhZGluZyBzY2FsZVxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3Muc2hhZGluZ1NjYWxlO1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICAgICAmJiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSAhPT0gMS4wO1xyXG5cclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3Iod2luZG93LndpZHRoKSwgMSk7XHJcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aW5kb3cuaGVpZ2h0KSwgMSk7XHJcblxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxyXG4gICAgICAgICAgICAgICAgOiBjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoO1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhQ29uZmlncy5uYXRpdmVIZWlnaHQgKiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSksIDEpXHJcbiAgICAgICAgICAgICAgICA6IGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgLy8gUmFkaWFuY2VcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVIRFIgPSBjYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZVxyXG4gICAgICAgICAgICAgICAgJiYgcGlwZWxpbmVDb25maWdzLnVzZUZsb2F0T3V0cHV0O1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0ID0gY2FtZXJhQ29uZmlncy5lbmFibGVIRFJcclxuICAgICAgICAgICAgICAgID8gZ2Z4LkZvcm1hdC5SR0JBMTZGIDogZ2Z4LkZvcm1hdC5SR0JBODtcclxuXHJcbiAgICAgICAgICAgIC8vIFRvbmUgTWFwcGluZ1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmNvcHlBbmRUb25lbWFwTWF0ZXJpYWwgPSB0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsO1xyXG5cclxuICAgICAgICAgICAgLy8gRGVwdGhcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVTdG9yZVNjZW5lRGVwdGggPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3NldHVwQ2FtZXJhQ29uZmlncyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIHBpcGVsaW5lQ29uZmlnczogUGlwZWxpbmVDb25maWdzLFxyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldHVwUGlwZWxpbmVQcmV2aWV3KGNhbWVyYSwgY2FtZXJhQ29uZmlncyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMoY2FtZXJhQ29uZmlncyk7XHJcblxyXG4gICAgICAgICAgICBzb3J0UGlwZWxpbmVQYXNzQnVpbGRlcnNCeUNvbmZpZ09yZGVyKHRoaXMuX3Bhc3NCdWlsZGVycyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zZXR1cEJ1aWx0aW5DYW1lcmFDb25maWdzKHBwbCwgY2FtZXJhLCBwaXBlbGluZUNvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBidWlsZGVyIG9mIHRoaXMuX3Bhc3NCdWlsZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkZXIuY29uZmlnQ2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5jb25maWdDYW1lcmEoY2FtZXJhLCBwaXBlbGluZUNvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gSW50ZXJmYWNlXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIHdpbmRvd1Jlc2l6ZShcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3csXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcixcclxuICAgICAgICApOiB2b2lkIHtcclxuICAgICAgICAgICAgc2V0dXBQaXBlbGluZUNvbmZpZ3MocHBsLCB0aGlzLl9jb25maWdzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3NldHVwQ2FtZXJhQ29uZmlncyhwcGwsIGNhbWVyYSwgdGhpcy5fY29uZmlncywgdGhpcy5fY2FtZXJhQ29uZmlncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW5kZXIgV2luZG93IChVSSlcclxuICAgICAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cucmVuZGVyV2luZG93SWQ7XHJcblxyXG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyV2luZG93KHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lLFxyXG4gICAgICAgICAgICAgICAgRm9ybWF0LlJHQkE4LCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCB3aW5kb3csXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmFDb25maWdzLmRlcHRoU3RlbmNpbE5hbWUpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jYW1lcmFDb25maWdzLndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl9jYW1lcmFDb25maWdzLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChgU2NhbGVkU2NlbmVEZXB0aF8ke2lkfWAsIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFNjYWxlZFJhZGlhbmNlMF8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkUmFkaWFuY2UxXyR7aWR9YCwgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBTY2FsZWRMZHJDb2xvcjBfJHtpZH1gLCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkTGRyQ29sb3IxXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoYFNjZW5lRGVwdGhfJHtpZH1gLCBGb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBSYWRpYW5jZTBfJHtpZH1gLCB0aGlzLl9jYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFJhZGlhbmNlMV8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgTGRyQ29sb3IwXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYExkckNvbG9yMV8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgVWlDb2xvcjBfJHtpZH1gLCBGb3JtYXQuUkdCQTgsIG5hdGl2ZVdpZHRoLCBuYXRpdmVIZWlnaHQpO1xyXG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBVaUNvbG9yMV8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkZXIgb2YgdGhpcy5fcGFzc0J1aWxkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRlci53aW5kb3dSZXNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLndpbmRvd1Jlc2l6ZShwcGwsIHRoaXMuX2NvbmZpZ3MsIHRoaXMuX2NhbWVyYUNvbmZpZ3MsIHdpbmRvdywgY2FtZXJhLCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cChjYW1lcmFzOiByZW5kZXJlci5zY2VuZS5DYW1lcmFbXSwgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBNYWtlIGRlZmF1bHQgZWZmZWN0IGFzc2V0IGxvYWRpbmcgZWFybGllciBhbmQgcmVtb3ZlIF9pbml0TWF0ZXJpYWxzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0TWF0ZXJpYWxzKHBwbCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVuZGVyIGNhbWVyYXNcclxuICAgICAgICAgICAgLy8gbG9nKGA9PT09PT09PT09PT09PT09PT09PSBPbmUgRnJhbWUgPT09PT09PT09PT09PT09PT09PT1gKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYW1lcmEgb2YgY2FtZXJhcykge1xyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBpbnZhbGlkIGNhbWVyYVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjYW1lcmEuc2NlbmUgfHwgIWNhbWVyYS53aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNldHVwIGNhbWVyYSBjb25maWdzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR1cENhbWVyYUNvbmZpZ3MocHBsLCBjYW1lcmEsIHRoaXMuX2NvbmZpZ3MsIHRoaXMuX2NhbWVyYUNvbmZpZ3MpO1xyXG4gICAgICAgICAgICAgICAgLy8gbG9nKGBTZXR1cCBjYW1lcmE6ICR7Y2FtZXJhLm5vZGUhLm5hbWV9LCB3aW5kb3c6ICR7Y2FtZXJhLndpbmRvdy5yZW5kZXJXaW5kb3dJZH0sIGlzRnVsbDogJHt0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZX0sIGBcclxuICAgICAgICAgICAgICAgIC8vICAgICArIGBzaXplOiAke2NhbWVyYS53aW5kb3cud2lkdGh9eCR7Y2FtZXJhLndpbmRvdy5oZWlnaHR9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZWxpbmVFdmVudC5lbWl0KFBpcGVsaW5lRXZlbnRUeXBlLlJFTkRFUl9DQU1FUkFfQkVHSU4sIGNhbWVyYSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQnVpbGQgcGlwZWxpbmVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkRm9yd2FyZFBpcGVsaW5lKHBwbCwgY2FtZXJhLCBjYW1lcmEuc2NlbmUsIHRoaXMuX3Bhc3NCdWlsZGVycyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkU2ltcGxlUGlwZWxpbmUocHBsLCBjYW1lcmEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3BpcGVsaW5lRXZlbnQuZW1pdChQaXBlbGluZUV2ZW50VHlwZS5SRU5ERVJfQ0FNRVJBX0VORCwgY2FtZXJhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gUGlwZWxpbmVzXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIHByaXZhdGUgX2J1aWxkU2ltcGxlUGlwZWxpbmUoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhLndpbmRvdy53aWR0aCksIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGNhbWVyYS53aW5kb3cuaGVpZ2h0KSwgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yTmFtZSA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBkZXB0aFN0ZW5jaWxOYW1lID0gdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBjYW1lcmEudmlld3BvcnQ7ICAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IE1hdGgucm91bmQodmlld3BvcnQueCAqIHdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gTWF0aC5yb3VuZCh2aWV3cG9ydC55ICogaGVpZ2h0KTtcclxuICAgICAgICAgICAgLy8gSGVyZSB3ZSBtdXN0IHVzZSBjYW1lcmEudmlld3BvcnQud2lkdGggaW5zdGVhZCBvZiBjYW1lcmEudmlld3BvcnQueiwgd2hpY2hcclxuICAgICAgICAgICAgLy8gaXMgdW5kZWZpbmVkIG9uIG5hdGl2ZSBwbGF0Zm9ybS4gVGhlIHNhbWUgYXMgY2FtZXJhLnZpZXdwb3J0LmhlaWdodC5cclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQud2lkdGggPSBNYXRoLm1heChNYXRoLnJvdW5kKHZpZXdwb3J0LndpZHRoICogd2lkdGgpLCAxKTtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC5oZWlnaHQgKiBoZWlnaHQpLCAxKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBjYW1lcmEuY2xlYXJDb2xvcjsgIC8vIFJlZHVjZSBDKysvVFMgaW50ZXJvcFxyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvci56ID0gY2xlYXJDb2xvci56O1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJpbmQgb3V0cHV0IHJlbmRlciB0YXJnZXRcclxuICAgICAgICAgICAgaWYgKGZvcndhcmROZWVkQ2xlYXJDb2xvcihjYW1lcmEpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLlNUT1JFKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYmluZCBkZXB0aCBzdGVuY2lsIGJ1ZmZlclxyXG4gICAgICAgICAgICBpZiAoY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcclxuICAgICAgICAgICAgICAgICAgICBTdG9yZU9wLkRJU0NBUkQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRGVwdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyU3RlbmNpbCxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIFN0b3JlT3AuRElTQ0FSRCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBhc3Muc2V0Vmlld3BvcnQodGhpcy5fdmlld3BvcnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIG9wYXF1ZSBxdWV1ZSBpcyB1c2VkIGZvciBSZWZsZWN0aW9uIHByb2JlIHByZXZpZXdcclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgU2NlbmVGbGFncy5PUEFRVUUpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGJsZW5kIHF1ZXVlIGlzIHVzZWQgZm9yIFVJIGFuZCBHaXptb3NcclxuICAgICAgICAgICAgbGV0IGZsYWdzID0gU2NlbmVGbGFncy5CTEVORCB8IFNjZW5lRmxhZ3MuVUk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBTY2VuZUZsYWdzLlBST0ZJTEVSO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQpXHJcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBmbGFncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIF9idWlsZEZvcndhcmRQaXBlbGluZShcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSxcclxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICBzb3J0UGlwZWxpbmVQYXNzQnVpbGRlcnNCeVJlbmRlck9yZGVyKHBhc3NCdWlsZGVycyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvck5hbWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogJycsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgbGFzdFBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBidWlsZGVyIG9mIHBhc3NCdWlsZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkZXIuc2V0dXApIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IGJ1aWxkZXIuc2V0dXAocHBsLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmEsIGNvbnRleHQsIGxhc3RQYXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2luaXRNYXRlcmlhbHMocHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldHVwUGlwZWxpbmVDb25maWdzKHBwbCwgdGhpcy5fY29uZmlncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBXaGVuIGFkZCBuZXcgZWZmZWN0IGFzc2V0LCBwbGVhc2UgYWRkIGl0cyB1dWlkIHRvIHRoZSBkZXBlbmRlbnRBc3NldHMgaW4gY2MuY29uZmlnLmpzb24uXHJcbiAgICAgICAgICAgIHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwuX3V1aWQgPSBgYnVpbHRpbi1waXBlbGluZS10b25lLW1hcHBpbmctbWF0ZXJpYWxgO1xyXG4gICAgICAgICAgICB0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLmluaXRpYWxpemUoeyBlZmZlY3ROYW1lOiAncGlwZWxpbmUvcG9zdC1wcm9jZXNzL3RvbmUtbWFwcGluZycgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY29weUFuZFRvbmVtYXBNYXRlcmlhbC5lZmZlY3RBc3NldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQgPyAwIDogMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyaW5nLnNldEN1c3RvbVBpcGVsaW5lKCdCdWlsdGluJywgbmV3IEJ1aWx0aW5QaXBlbGluZUJ1aWxkZXIoKSk7XHJcblxyXG59IC8vIGlmIChyZW5kZXJpbmcpXHJcbiJdfQ==